 AS V1.42 Beta [Bld 271] - Source File unimon_s86.asm - Page 1 - 7/31/2025 6:5:15


    1/   0 :                            	page 0
    2/   0 :                            ;;;
    3/   0 :                            ;;; Universal Monitor 8086
    4/   0 :                            ;;;   Copyright (C) 2020 Haruo Asano
    5/   0 :                            ;;;
    6/   0 :                            
    7/   0 :                            	CPU	8086
    8/   0 :                            
    9/   0 :                            ;;;
   10/   0 :                            ;;; Memory
   11/   0 :                            ;;;
   12/   0 :                            
   13/   0 : =0H                        DEBUG	equ	0
   14/   0 :                            
   15/   0 : =0FF50H                    MON_CSEG	equ	0ff50h
   16/   0 : =0FF30H                    MON_DSEG	equ	0ff30h
   17/   0 : =40H                       FREE_SEG	equ	0040h
   18/   0 :                            
   19/   0 : =100H                      WORK_B:	EQU	0100h
   20/   0 : =100H                      STACK:	EQU	WORK_B
   21/   0 :                            
   22/   0 : =50H                       BUFLEN:	EQU	80
   23/   0 : =100H                      NUM_OF_VEC:	EQU	256		; Number of vectors to be initialized
   24/   0 : =400H                      VECSIZ:		EQU	NUM_OF_VEC*4	; bytes
   25/   0 : =200H                      VEC_CNT_W	equ	VECSIZ/2	; words
   26/   0 :                            
   27/   0 : =84H                       int21hvec:	equ	021h * 4 ; INT 0E0H Vector table offset
   28/   0 :                            
   29/   0 :                            ;;; Constants
   30/   0 : =0DH                       CR:	EQU	0DH
   31/   0 : =0AH                       LF:	EQU	0AH
   32/   0 : =8H                        BS:	EQU	08H
   33/   0 : =7FH                       DEL:	EQU	7FH
   34/   0 :                            
   35/   0 : =10H                       F_bitSize	equ	16
   36/   0 : =0FD5H                     f_msk_bit	equ	0000111111010101b
   37/   0 : =0ED5H                     Tbit_OFF	equ	0000111011010101b
   38/   0 : =100H                      Tbit_ON_	equ	0000000100000000b
   39/   0 :                            
   40/   0 :                            	ASSUME	CS:CODE, DS:DATA, SS:DATA, ES:NOTHING
   41/   0 :                            
   42/   0 :                            ;;;
   43/   0 :                            ;;; ROM area
   44/   0 :                            ;;;
   45/   0 :                            
   46/   0 :                            	SEGMENT	CODE
   47/   0 :                            
   48/   0 :                            	org	0
   49/   0 :                            
   50/   0 : =1H                        REQ_CONIN	equ	1
   51/   0 : =2H                        REQ_CONOUT	equ	2
   52/   0 : =3H                        REQ_CONST	equ	3
   53/   0 : =4H                        REQ_STROUT	equ	4
   54/   0 : =0F000H                    DUMMY_PORT	equ	0f000h
   55/   0 : =0CH                       IRQ_OFF		equ	0ch
   56/   0 : =0FFH                      TERMINATE	equ	0ffh
   57/   0 :                            
   58/   0 :                            ;  ---- request command to PIC
   59/   0 :                            ; UREQ_COM = 1 ; CONIN  : return char in UNI_CHR
   60/   0 :                            ;          = 2 ; CONOUT : UNI_CHR = output char
   61/   0 :                            ;          = 3 ; CONST  : return status in UNI_CHR
   62/   0 :                            ;                       : ( 0: no key, 1 : key exist )
   63/   0 :                            ;          = 4 ; STROUT : string address = (PTRSAV, PTRSAV_SEG)
   64/   0 :                            ;          = 5 ; DISK READ
   65/   0 :                            ;          = 6 ; DISK WRITE
   66/   0 :                            ;          = 7 ; NMI LED OFF
   67/   0 :                            ;          = 0 ; request is done( return this flag from PIC )
   68/   0 :                            ;                return status is in UNI_CHR;
   69/   0 :                            ;
   70/   0 :                            
   71/   0 :                            ; ------------------ unimon Command 
   72/   0 : 00                         UREQ_COM	db	0	; location 00	:unimon request command
   73/   1 :                            ; ------------------ unimon CONSOLE I/O
   74/   1 : 00                         UNI_CHR		db	0	; location 01	:charcter (CONIN/CONOUT) or counts(STROUT) or status
   75/   2 : 00 00                      STR_OFF		dw	0	; location 02	:string offset
   76/   4 : 00 00                      STR_SEG		dw	0	; location 04	:string segment
   77/   6 :                            ; ------------------ CBIOS Command
   78/   6 : 00                         CREQ_COM	db	0	; location 06	:CBIOS request command
   79/   7 :                            ; ------------------ CBIOS CONSOLE I/O
   80/   7 : 00                         CBI_CHR		db	0	; location 07	:charcter (CONIN/CONOUT) or counts(STROUT) or status
   81/   8 : 00                         disk_drive	db	0	; location 08	:
   82/   9 : 00                         disk_track	db	0	; location 09	:
   83/   A : 00 00                      disk_sector	dw	0	; location 0A	:
   84/   C : 00 00                      data_dmal	dw	0	; location 0C	:
   85/   E : 00 00                      data_dmah	dw	0	; location 0E	:
   86/  10 :                            
   87/  10 :                            CSTART:
   88/  10 : FA                         	cli
   89/  11 : B8 30 FF                   	MOV	AX,MON_DSEG
   90/  14 : 8E D8                      	MOV	DS,AX
   91/  16 : 8E D0                      	MOV	SS,AX
   92/  18 : A3 76 01                   	MOV	[REGSS],AX	; set init SS value
   93/  1B : B8 00 01                   	mov	ax, STACK
   94/  1E : 8B E0                      	MOV	SP, ax
   95/  20 : 8B E8                      	mov	bp, ax
   96/  22 : A3 7A 01                   	MOV	[REGSP],AX	; set init SP value
   97/  25 : A3 7C 01                   	MOV	[REGBP],AX	; set init BP value
   98/  28 :                            	
   99/  28 : B0 49                      	MOV	AL,'I'
  100/  2A : A2 5C 01                   	MOV	[HEXMOD],AL	; Intel Hex mode
  101/  2D :                            
  102/  2D : 33 C0                      	XOR	AX,AX
  103/  2F : A3 52 01                   	MOV	[DSADDR],AX	; set dump start address
  104/  32 : A3 58 01                   	MOV	[GADDR],AX	; set Go address to 0000h
  105/  35 : A3 5A 01                   	MOV	[SADDR],AX	; Set memory address
  106/  38 :                            	; init break point
  107/  38 : A2 80 01                   	mov	[bflg], al	; clear break flag
  108/  3B :                            
  109/  3B :                            	;; Initialize register value
  110/  3B : BB 64 01                   	MOV	BX,REG_B
  111/  3E : B9 07 00                   	MOV	CX,(REG_E - REG_B)/2
  112/  41 :                            IR0:
  113/  41 : 89 07                      	MOV	[BX],AX
  114/  43 : 43                         	INC	BX
  115/  44 : 43                         	INC	BX
  116/  45 : 49                         	DEC	CX
  117/  46 : 75 F9                      	JNE	IR0
  118/  48 :                            
  119/  48 : B8 40 00                   	mov	ax, FREE_SEG	; set free memory start segment
  120/  4B : A3 50 01                   	MOV	[CURSEG],AX	; set current segment
  121/  4E : A3 72 01                   	mov	[REGCS], ax
  122/  51 : A3 74 01                   	MOV	[REGDS],AX	; CS=DS=ES=SS
  123/  54 : A3 78 01                   	MOV	[REGES],AX
  124/  57 :                            	; init break point segment
  125/  57 : A3 82 01                   	mov	[brkcs], ax
  126/  5A : 33 C0                      	xor	ax, ax
  127/  5C : A3 7E 01                   	mov	[REGIP], ax
  128/  5F :                            	; init break point ip
  129/  5F : A3 84 01                   	mov	[brkip], ax	; clear break point ip
  130/  62 :                            
  131/  62 :                            	;; Initialize vector
  132/  62 : 8E C0                      	MOV	ES,AX		; ES = 0
  133/  64 : BE 5F 08                   	MOV	SI,INIVEC
  134/  67 : 8B F8                      	MOV	DI,AX
  135/  69 : B9 0A 00                   	MOV	CX,intvec_sizew
  136/  6C : 1E                         	push	ds
  137/  6D : 8C C8                      	mov	ax, cs
  138/  6F : 8E D8                      	mov	ds, ax
  139/  71 : FC                         	cld
  140/  72 : F3 A5                      	rep	movsw
  141/  74 :                            	
  142/  74 : BA F6 01                   	mov	dx, VEC_CNT_W-intvec_sizew
  143/  77 :                            INI1:
  144/  77 : BE 73 08                   	mov	si, def_vec
  145/  7A : B9 02 00                   	mov	cx, 2
  146/  7D : F3 A5                      	rep	movsw
  147/  7F : 83 EA 02                   	sub	dx, 2
  148/  82 : 75 F3                      	JNZ	INI1
  149/  84 : 1F                         	pop	ds
  150/  85 :                            
  151/  85 :                            	; init INT 21H(33)
  152/  85 : BF 84 00                   	mov	di, int21hvec
  153/  88 : B8 D7 06                   	mov	ax, INTFNC
  154/  8B : AB                         	stosw
  155/  8C :                            
  156/  8C :                            ; copy request command table
  157/  8C :                            ; to check the address of aprication program. 
  158/  8C :                            
  159/  8C : BE 00 00                   	mov	si, UREQ_COM
  160/  8F : BF 60 01                   	mov	di, apl_addr
  161/  92 : B9 02 00                   	mov	cx, 2
  162/  95 : 1E                         	push	ds
  163/  96 : 07                         	pop	es
  164/  97 : 0E                         	push	cs
  165/  98 : 1F                         	pop	ds
  166/  99 : F3 A5                      	rep	movsw
  167/  9B : 06                         	push	es
  168/  9C : 1F                         	pop	ds		; ds = es
  169/  9D :                            
  170/  9D :                            ; Check CPU TYPE
  171/  9D :                            
  172/  9D : 8C D8                      	mov	ax, ds
  173/  9F : 8E C0                      	mov	es, ax		; ds = es 
  174/  A1 : BB 12 08                   	mov	bx, IMV30
  175/  A4 : B8 00 01                   	MOV	AX,0100H
  176/  A7 : D5 00                      	DB	0D5H,00H	; AAD 00H
  177/  A9 : 0A C0                      	OR	AL,AL
  178/  AB : 75 03                      	JNE	ID_V30		; V30
  179/  AD : BB 0B 08                   	mov	bx, IM86	; 8086
  180/  B0 :                            ID_V30:
  181/  B0 : 89 1E 5D 01                	MOV	[PSPEC],BX
  182/  B4 :                            
  183/  B4 : BB FF 07                   	mov	bx, cpu_msg
  184/  B7 : E8 B5 09                   	CALL	MSGOUT
  185/  BA :                            
  186/  BA : 8B 1E 5D 01                	mov	bx, [PSPEC]	; get CPU MSG address
  187/  BE : E8 AE 09                   	CALL	MSGOUT
  188/  C1 :                            
  189/  C1 : BE 60 01                   	mov	si, apl_addr
  190/  C4 : 8B 04                      	mov	ax, [si]
  191/  C6 : 23 C0                      	and	ax, ax
  192/  C8 : 75 08                      	jnz	brn_apli
  193/  CA : 46                         	inc	si
  194/  CB : 46                         	inc	si
  195/  CC : 8B 04                      	mov	ax, [si]
  196/  CE : 23 C0                      	and	ax, ax
  197/  D0 : 74 04                      	jz	nml_jmp
  198/  D2 :                            brn_apli:
  199/  D2 : =>TRUE                     	if DEBUG = 0
  200/  D2 : FF 2E 60 01                	jmpf	[apl_addr]
  201/  D6 : [199]                      	endif
  202/  D6 :                            nml_jmp:
  203/  D6 :                            	;; Universal Moniter Opening message
  204/  D6 : BB D9 07                   	MOV	BX,OPNMSG
  205/  D9 : E8 93 09                   	CALL	MSGOUT
  206/  DC :                            
  207/  DC :                            WSTART:
  208/  DC : B8 30 FF                   	mov	ax, MON_DSEG
  209/  DF : 8E D8                      	mov	ds, ax
  210/  E1 : 8E D0                      	mov	ss, ax
  211/  E3 : BC 00 01                   	mov	sp, STACK
  212/  E6 :                            
  213/  E6 : BB 18 08                   	MOV	BX,PROMPT
  214/  E9 : E8 83 09                   	CALL	MSGOUT
  215/  EC : E8 54 05                   	CALL	GETLIN
  216/  EF : BB 00 01                   	MOV	BX,INBUF
  217/  F2 : E8 9D 05                   	CALL	SKIPSP
  218/  F5 : E8 A4 05                   	CALL	UPPER
  219/  F8 : 22 C0                      	AND	AL,AL
  220/  FA : 74 E0                      	JZ	WSTART
  221/  FC :                            
  222/  FC : 3C 44                      	CMP	AL,'D'
  223/  FE : 75 02                      	JNE	M00
  224/ 100 : EB 4C                      	JMP	DUMP
  225/ 102 :                            M00:	
  226/ 102 : 3C 47                      	CMP	AL,'G'
  227/ 104 : 75 03                      	JNE	M01
  228/ 106 : E9 62 01                   	JMP	GO
  229/ 109 :                            M01:
  230/ 109 : 3C 53                      	CMP	AL,'S'
  231/ 10B : 75 03                      	JNE	M02
  232/ 10D : E9 15 02                   	JMP	SETM
  233/ 110 :                            
  234/ 110 :                            M02:	
  235/ 110 : 3C 4C                      	CMP	AL,'L'
  236/ 112 : 75 03                      	JNE	M03
  237/ 114 : E9 98 02                   	JMP	LOADH
  238/ 117 :                            M03:
  239/ 117 :                            
  240/ 117 : 3C 52                      	CMP	AL,'R'
  241/ 119 : 75 03                      	JNE	M05
  242/ 11B : E9 8D 03                   	JMP	REG
  243/ 11E :                            
  244/ 11E :                            M05:
  245/ 11E : 3C 54                      	CMP	AL,'T'
  246/ 120 : 75 03                      	JNE	M06
  247/ 122 : E9 62 04                   	JMP	Trace
  248/ 125 :                            
  249/ 125 :                            M06:
  250/ 125 : 3C 42                      	CMP	AL,'B'
  251/ 127 : 75 17                      	JNE	M07
  252/ 129 : E8 1C 00                   	call	get_nxtc
  253/ 12C : 3C 59                      	CMP	AL,'Y'
  254/ 12E : 75 10                      	JNE	M07
  255/ 130 : E8 15 00                   	call	get_nxtc
  256/ 133 : 3C 45                      	CMP	AL,'E'
  257/ 135 : 75 09                      	JNE	M07
  258/ 137 : 2E C6 06 00 00 FF          	mov	cs:[UREQ_COM], TERMINATE	; set terminate request
  259/ 13D : E9 70 09                   	jmp	CON_REQ
  260/ 140 :                            
  261/ 140 :                            M07:
  262/ 140 :                            ERR:
  263/ 140 : BB 35 08                   	MOV	BX,ERRMSG
  264/ 143 : E8 29 09                   	CALL	MSGOUT
  265/ 146 : EB 94                      	JMP	WSTART
  266/ 148 :                            
  267/ 148 :                            get_nxtc:
  268/ 148 : 43                         	inc	bx
  269/ 149 : 8A 07                      	mov	al, [bx]
  270/ 14B : E9 4E 05                   	jmp	UPPER
  271/ 14E :                            
  272/ 14E :                            ;;;
  273/ 14E :                            ;;; DUMP memory
  274/ 14E :                            ;;;
  275/ 14E :                            
  276/ 14E :                            DUMP:
  277/ 14E : 43                         	INC	BX
  278/ 14F : E8 55 05                   	CALL	RDHEX
  279/ 152 : 0A C9                      	OR	CL,CL
  280/ 154 : 75 15                      	JNZ	DP0
  281/ 156 :                            	;; No arg.
  282/ 156 : E8 39 05                   	CALL	SKIPSP
  283/ 159 : 0A C0                      	OR	AL,AL
  284/ 15B : 75 E3                      	JNZ	ERR
  285/ 15D :                            
  286/ 15D : 8B 16 52 01                	MOV	DX,[DSADDR]
  287/ 161 : 81 C2 80 00                	ADD	DX,128
  288/ 165 : 89 16 54 01                	MOV	[DEADDR],DX
  289/ 169 : EB 40                      	JMP	DPM
  290/ 16B :                            
  291/ 16B :                            	;; 1st arg. found
  292/ 16B :                            DP0:
  293/ 16B : 8A 07                      	MOV	AL,[BX]
  294/ 16D : 3C 3A                      	CMP	AL,':'
  295/ 16F : 75 0C                      	JNZ	DP01
  296/ 171 : 89 16 50 01                	MOV	[CURSEG],DX
  297/ 175 : 43                         	INC	BX
  298/ 176 : E8 2E 05                   	CALL	RDHEX
  299/ 179 : 0A C9                      	OR	CL,CL
  300/ 17B : 74 C3                      	JZ	ERR
  301/ 17D :                            DP01:	
  302/ 17D : 89 16 52 01                	MOV	[DSADDR],DX
  303/ 181 : 8A 07                      	MOV	AL,[BX]
  304/ 183 : 3C 2C                      	CMP	AL,','
  305/ 185 : 74 0E                      	JZ	DP1
  306/ 187 : 0A C0                      	OR	AL,AL
  307/ 189 : 75 B5                      	JNZ	ERR
  308/ 18B :                            	;; No 2nd arg.
  309/ 18B : 81 C2 80 00                	ADD	DX,128
  310/ 18F : 89 16 54 01                	MOV	[DEADDR],DX
  311/ 193 : EB 16                      	JMP	DPM
  312/ 195 :                            DP1:
  313/ 195 : 43                         	INC	BX
  314/ 196 : E8 0E 05                   	CALL	RDHEX
  315/ 199 : E8 F6 04                   	CALL	SKIPSP
  316/ 19C : 0A C9                      	OR	CL,CL
  317/ 19E : 74 A0                      	JZ	ERR
  318/ 1A0 : 8A 07                      	MOV	AL,[BX]
  319/ 1A2 : 0A C0                      	OR	AL,AL
  320/ 1A4 : 75 9A                      	JNZ	ERR
  321/ 1A6 : 42                         	INC	DX
  322/ 1A7 : 89 16 54 01                	MOV	[DEADDR],DX
  323/ 1AB :                            DPM:
  324/ 1AB :                            	;; DUMP main
  325/ 1AB : 8E 06 50 01                	MOV	ES,[CURSEG]
  326/ 1AF : 8B 36 52 01                	MOV	SI,[DSADDR]
  327/ 1B3 : 83 E6 F0                   	AND	SI,0FFF0H
  328/ 1B6 : 32 C0                      	XOR	AL,AL
  329/ 1B8 : A2 56 01                   	MOV	[DSTATE],AL
  330/ 1BB :                            DPM0:
  331/ 1BB : E8 23 00                   	CALL	DPL
  332/ 1BE : E8 04 09                   	CALL	CONST
  333/ 1C1 : 0A C0                      	OR	AL,AL
  334/ 1C3 : 75 12                      	JNZ	DPM1
  335/ 1C5 : A0 56 01                   	MOV	AL,[DSTATE]
  336/ 1C8 : 3C 02                      	CMP	AL,2
  337/ 1CA : 72 EF                      	JC	DPM0
  338/ 1CC : 8B 1E 54 01                	MOV	BX,[DEADDR]
  339/ 1D0 : 89 1E 52 01                	MOV	[DSADDR],BX
  340/ 1D4 : E9 05 FF                   	JMP	WSTART
  341/ 1D7 :                            DPM1:
  342/ 1D7 : 89 36 52 01                	MOV	[DSADDR],SI
  343/ 1DB : E8 CC 08                   	CALL	CONIN
  344/ 1DE : E9 FB FE                   	JMP	WSTART
  345/ 1E1 :                            
  346/ 1E1 :                            DPL:
  347/ 1E1 :                            	;; DUMP	line
  348/ 1E1 : A1 50 01                   	MOV	AX,[CURSEG]
  349/ 1E4 : E8 05 04                   	CALL	HEXOUT4
  350/ 1E7 : B0 3A                      	MOV	AL,':'
  351/ 1E9 : E8 E1 08                   	CALL	CONOUT
  352/ 1EC : 8B C6                      	MOV	AX,SI
  353/ 1EE : E8 FB 03                   	CALL	HEXOUT4
  354/ 1F1 : BB 3D 08                   	MOV	BX,DSEP0
  355/ 1F4 : E8 78 08                   	CALL	MSGOUT
  356/ 1F7 : BF 00 01                   	MOV	DI,INBUF
  357/ 1FA : B9 10 00                   	MOV	CX,16
  358/ 1FD :                            DPL0:
  359/ 1FD : E8 28 00                   	CALL	DPB
  360/ 200 : E2 FB                      	LOOP	DPL0
  361/ 202 :                            
  362/ 202 : BB 40 08                   	MOV	BX,DSEP1
  363/ 205 : E8 67 08                   	CALL	MSGOUT
  364/ 208 :                            
  365/ 208 : BF 00 01                   	MOV	DI,INBUF
  366/ 20B : B9 10 00                   	MOV	CX,16
  367/ 20E :                            DPL1:
  368/ 20E : 8A 05                      	MOV	AL,[DI]
  369/ 210 : 47                         	INC	DI
  370/ 211 : 3C 20                      	CMP	AL,' '
  371/ 213 : 72 09                      	JC	DPL2
  372/ 215 : 3C 7F                      	CMP	AL,7FH
  373/ 217 : 73 05                      	JNC	DPL2
  374/ 219 : E8 B1 08                   	CALL	CONOUT
  375/ 21C : EB 05                      	JMP	DPL3
  376/ 21E :                            DPL2:
  377/ 21E : B0 2E                      	MOV	AL,'.'
  378/ 220 : E8 AA 08                   	CALL	CONOUT
  379/ 223 :                            DPL3:
  380/ 223 : E2 E9                      	LOOP	DPL1
  381/ 225 : E9 11 04                   	JMP	CRLF
  382/ 228 :                            
  383/ 228 :                            DPB:
  384/ 228 :                            	;; DUMP byte
  385/ 228 : B0 20                      	MOV	AL,' '
  386/ 22A : E8 A0 08                   	CALL	CONOUT
  387/ 22D : A0 56 01                   	MOV	AL,[DSTATE]
  388/ 230 : 0A C0                      	OR	AL,AL
  389/ 232 : 75 1A                      	JNZ	DPB2
  390/ 234 :                            	;; State 0
  391/ 234 : 3B 36 52 01                	CMP	SI,[DSADDR]
  392/ 238 : 74 0F                      	JZ	DPB1
  393/ 23A :                            DPB0:
  394/ 23A :                            	;; Still 0 or 2
  395/ 23A : B0 20                      	MOV	AL,' '
  396/ 23C : 88 05                      	MOV	[DI],AL
  397/ 23E : E8 8C 08                   	CALL	CONOUT
  398/ 241 : B0 20                      	MOV	AL,' '
  399/ 243 : E8 87 08                   	CALL	CONOUT
  400/ 246 : 46                         	INC	SI
  401/ 247 : 47                         	INC	DI
  402/ 248 : C3                         	RET
  403/ 249 :                            DPB1:
  404/ 249 :                            	;; Found start address
  405/ 249 : B0 01                      	MOV	AL,1
  406/ 24B : A2 56 01                   	MOV	[DSTATE],AL
  407/ 24E :                            DPB2:
  408/ 24E : A0 56 01                   	MOV	AL,[DSTATE]
  409/ 251 : 3C 01                      	CMP	AL,1
  410/ 253 : 75 E5                      	JNZ	DPB0		; state 2
  411/ 255 :                            	;; DUMP state 1
  412/ 255 : 26 8A 04                   	MOV	AL,ES:[SI]
  413/ 258 : 88 05                      	MOV	[DI],AL
  414/ 25A : E8 96 03                   	CALL	HEXOUT2
  415/ 25D : 46                         	INC	SI
  416/ 25E : 47                         	INC	DI
  417/ 25F :                            
  418/ 25F : 3B 36 54 01                	CMP	SI,[DEADDR]
  419/ 263 : 75 05                      	JNZ	DPB3
  420/ 265 :                            	;; Found end address
  421/ 265 : B0 02                      	MOV	AL,2
  422/ 267 : A2 56 01                   	MOV	[DSTATE],AL
  423/ 26A :                            DPB3:
  424/ 26A : C3                         	RET
  425/ 26B :                            
  426/ 26B :                            ;;;
  427/ 26B :                            ;;; GO address
  428/ 26B :                            ;;; 
  429/ 26B :                            
  430/ 26B :                            GO:
  431/ 26B : 32 C0                      	xor 	al, al
  432/ 26D : A2 80 01                   	mov	[bflg], al
  433/ 270 :                            
  434/ 270 : 43                         	INC	BX
  435/ 271 : E8 33 04                   	CALL	RDHEX
  436/ 274 : 0A C9                      	OR	CL,CL
  437/ 276 : 74 1D                      	JZ	G1
  438/ 278 : 8A 07                      	MOV	AL,[BX]
  439/ 27A : 3C 3A                      	CMP	AL,':'
  440/ 27C : 75 10                      	JNE	G0
  441/ 27E :                            
  442/ 27E : 89 16 72 01                	MOV	[REGCS],DX
  443/ 282 : 89 16 82 01                	MOV	[brkcs],DX
  444/ 286 : 43                         	INC	BX
  445/ 287 : E8 1D 04                   	CALL	RDHEX
  446/ 28A : 0A C9                      	OR	CL,CL
  447/ 28C : 74 19                      	JZ	GE
  448/ 28E :                            G0:
  449/ 28E : 89 16 7E 01                	MOV	[REGIP],DX
  450/ 292 : E8 FD 03                   	CALL	SKIPSP
  451/ 295 :                            G1:
  452/ 295 : 8A 07                      	MOV	AL,[BX]
  453/ 297 : 0A C0                      	or	al, al
  454/ 299 : 74 37                      	je	go_go
  455/ 29B :                            
  456/ 29B : 3C 2C                      	CMP	AL,','
  457/ 29D : 75 08                      	JNZ	GE
  458/ 29F :                            
  459/ 29F : 43                         	INC	BX
  460/ 2A0 : E8 04 04                   	CALL	RDHEX
  461/ 2A3 : 0A C9                      	OR	CL,CL
  462/ 2A5 : 75 03                      	jnz	g2
  463/ 2A7 :                            GE:
  464/ 2A7 : E9 96 FE                   	JMP	ERR
  465/ 2AA :                            
  466/ 2AA :                            g2:
  467/ 2AA : A1 72 01                   	MOV	AX,[REGCS]
  468/ 2AD : A3 82 01                   	MOV	[brkcs],AX
  469/ 2B0 : 8A 07                      	MOV	AL,[BX]
  470/ 2B2 : 3C 3A                      	CMP	AL,':'
  471/ 2B4 : 75 0C                      	JNE	G0_0
  472/ 2B6 :                            
  473/ 2B6 : 89 16 82 01                	MOV	[brkcs],DX
  474/ 2BA : 43                         	INC	BX
  475/ 2BB : E8 E9 03                   	CALL	RDHEX
  476/ 2BE : 0A C9                      	OR	CL,CL
  477/ 2C0 : 74 E5                      	JZ	GE
  478/ 2C2 :                            
  479/ 2C2 :                            G0_0:
  480/ 2C2 : 89 16 84 01                	MOV	[brkip],DX
  481/ 2C6 : E8 C9 03                   	CALL	SKIPSP
  482/ 2C9 : 0A C0                      	OR	AL,AL
  483/ 2CB : 75 DA                      	JNZ	GE
  484/ 2CD :                            
  485/ 2CD : B0 01                      	mov	al, 1
  486/ 2CF : A2 80 01                   	mov	[bflg], al
  487/ 2D2 :                            
  488/ 2D2 :                            go_go:
  489/ 2D2 : A0 80 01                   	mov	al, [bflg]
  490/ 2D5 : 0A C0                      	or	al, al
  491/ 2D7 : 74 14                      	je	go_anywhere
  492/ 2D9 :                            
  493/ 2D9 :                            ; set break point
  494/ 2D9 :                            
  495/ 2D9 : A1 82 01                   	mov	ax, [brkcs]
  496/ 2DC : 8E C0                      	mov	es, ax
  497/ 2DE : 8B 36 84 01                	mov	si, [brkip]
  498/ 2E2 : 26 8A 04                   	mov	al, es:[si]	; get a code at break point
  499/ 2E5 : A2 81 01                   	mov	[bp_code], al
  500/ 2E8 : B0 CC                      	mov	al, 0CCH	; int 03h code
  501/ 2EA : 26 88 04                   	mov	es:[si], al	; set break point
  502/ 2ED :                            
  503/ 2ED :                            go_anywhere:
  504/ 2ED : 8E 16 76 01                	MOV	SS,[REGSS]
  505/ 2F1 : 8B 26 7A 01                	MOV	SP,[REGSP]
  506/ 2F5 :                            	
  507/ 2F5 : A1 70 01                   	MOV	AX,[REGF]
  508/ 2F8 : 50                         	PUSH	AX
  509/ 2F9 : A1 72 01                   	MOV	AX,[REGCS]
  510/ 2FC : 50                         	PUSH	AX
  511/ 2FD : A1 7E 01                   	MOV	AX,[REGIP]
  512/ 300 : 50                         	PUSH	AX
  513/ 301 :                            
  514/ 301 : A1 64 01                   	MOV	AX,[REGAX]
  515/ 304 : 8B 1E 66 01                	MOV	BX,[REGBX]
  516/ 308 : 8B 0E 68 01                	MOV	CX,[REGCX]
  517/ 30C : 8B 16 6A 01                	MOV	DX,[REGDX]
  518/ 310 : 8B 2E 7C 01                	MOV	BP,[REGBP]
  519/ 314 : 8B 36 6C 01                	MOV	SI,[REGSI]
  520/ 318 : 8B 3E 6E 01                	MOV	DI,[REGDI]
  521/ 31C : 8E 06 78 01                	MOV	ES,[REGES]
  522/ 320 : 8E 1E 74 01                	MOV	DS,[REGDS]
  523/ 324 : CF                         	IRET
  524/ 325 :                            
  525/ 325 :                            ;;;
  526/ 325 :                            ;;; SET memory
  527/ 325 :                            ;;;
  528/ 325 :                            
  529/ 325 :                            SETM:
  530/ 325 : 43                         	INC	BX
  531/ 326 : E8 7E 03                   	CALL	RDHEX
  532/ 329 : 0A C9                      	OR	CL,CL
  533/ 32B : 74 1F                      	JZ	SM1
  534/ 32D : 8A 07                      	MOV	AL,[BX]
  535/ 32F : 3C 3A                      	CMP	AL,':'
  536/ 331 : 75 0C                      	JNE	SM0
  537/ 333 : 89 16 50 01                	MOV	[CURSEG],DX
  538/ 337 : 43                         	INC	BX
  539/ 338 : E8 6C 03                   	CALL	RDHEX
  540/ 33B : 0A C9                      	OR	CL,CL
  541/ 33D : 74 6D                      	JZ	SME
  542/ 33F :                            SM0:
  543/ 33F : 89 16 5A 01                	MOV	[SADDR],DX
  544/ 343 : E8 4C 03                   	CALL	SKIPSP
  545/ 346 : 8A 07                      	MOV	AL,[BX]
  546/ 348 : 0A C0                      	OR	AL,AL
  547/ 34A : 75 60                      	JNZ	SME
  548/ 34C :                            SM1:
  549/ 34C : A1 50 01                   	MOV	AX,[CURSEG]
  550/ 34F : 8E C0                      	MOV	ES,AX
  551/ 351 : E8 98 02                   	CALL	HEXOUT4
  552/ 354 : B0 3A                      	MOV	AL,':'
  553/ 356 : E8 74 07                   	CALL	CONOUT
  554/ 359 : 8B 36 5A 01                	MOV	SI,[SADDR]
  555/ 35D : 8B C6                      	MOV	AX,SI
  556/ 35F : E8 8A 02                   	CALL	HEXOUT4
  557/ 362 : BB 40 08                   	MOV	BX,DSEP1
  558/ 365 : E8 07 07                   	CALL	MSGOUT
  559/ 368 : 26 8A 04                   	MOV	AL,ES:[SI]
  560/ 36B : E8 85 02                   	CALL	HEXOUT2
  561/ 36E : B0 20                      	MOV	AL,' '
  562/ 370 : E8 5A 07                   	CALL	CONOUT
  563/ 373 : E8 CD 02                   	CALL	GETLIN
  564/ 376 : BB 00 01                   	MOV	BX,INBUF
  565/ 379 : E8 16 03                   	CALL	SKIPSP
  566/ 37C : 8A 07                      	MOV	AL,[BX]
  567/ 37E : 0A C0                      	OR	AL,AL
  568/ 380 : 75 07                      	JNZ	SM2
  569/ 382 :                            	;; Empty (Increment address)
  570/ 382 : 46                         	INC	SI
  571/ 383 : 89 36 5A 01                	MOV	[SADDR],SI
  572/ 387 : EB C3                      	JMP	SM1
  573/ 389 :                            SM2:
  574/ 389 : 3C 2D                      	CMP	AL,'-'
  575/ 38B : 75 07                      	JNZ	SM3
  576/ 38D :                            	;; '-' (Decrement address)
  577/ 38D : 4E                         	DEC	SI
  578/ 38E : 89 36 5A 01                	MOV	[SADDR],SI
  579/ 392 : EB B8                      	JMP	SM1
  580/ 394 :                            SM3:
  581/ 394 : 3C 2E                      	CMP	AL,'.'
  582/ 396 : 75 03                      	JNZ	SM4
  583/ 398 :                            	;; '.' (Quit)
  584/ 398 : E9 41 FD                   	JMP	WSTART
  585/ 39B :                            SM4:
  586/ 39B : E8 09 03                   	CALL	RDHEX
  587/ 39E : 0A C9                      	OR	CL,CL
  588/ 3A0 : 74 0A                      	JZ	SME
  589/ 3A2 : 26 88 14                   	MOV	ES:[SI],DL
  590/ 3A5 : 46                         	INC	SI
  591/ 3A6 : 89 36 5A 01                	MOV	[SADDR],SI
  592/ 3AA : EB A0                      	JMP	SM1
  593/ 3AC :                            SME:
  594/ 3AC : E9 91 FD                   	JMP	ERR
  595/ 3AF :                            
  596/ 3AF :                            ;;;
  597/ 3AF :                            ;;; LOAD HEX file
  598/ 3AF :                            ;;;
  599/ 3AF :                            
  600/ 3AF :                            LOADH:
  601/ 3AF : 43                         	INC	BX
  602/ 3B0 : E8 F4 02                   	CALL	RDHEX
  603/ 3B3 : 0A C9                      	OR	CL,CL
  604/ 3B5 : 74 14                      	JZ	LH0
  605/ 3B7 : 8A 07                      	MOV	AL,[BX]
  606/ 3B9 : 3C 3A                      	CMP	AL,':'
  607/ 3BB : 75 10                      	JNE	LH1
  608/ 3BD : 89 16 50 01                	MOV	[CURSEG],DX
  609/ 3C1 : 43                         	INC	BX
  610/ 3C2 : E8 E2 02                   	CALL	RDHEX
  611/ 3C5 : 0A C9                      	OR	CL,CL
  612/ 3C7 : 74 30                      	JZ	LHE
  613/ 3C9 : EB 02                      	JMP	LH1
  614/ 3CB :                            LH0:
  615/ 3CB : 33 D2                      	XOR	DX,DX
  616/ 3CD :                            LH1:
  617/ 3CD : 8A 07                      	MOV	AL,[BX]
  618/ 3CF : 0A C0                      	OR	AL,AL
  619/ 3D1 : 75 26                      	JNZ	LHE
  620/ 3D3 : 8B F2                      	MOV	SI,DX
  621/ 3D5 : 8E 06 50 01                	MOV	ES,[CURSEG]
  622/ 3D9 :                            
  623/ 3D9 :                            LH2:	
  624/ 3D9 : B0 2E                      	mov	al, '.'
  625/ 3DB : E8 EF 06                   	call	CONOUT
  626/ 3DE :                            	
  627/ 3DE : E8 C9 06                   	CALL	CONIN
  628/ 3E1 : E8 B8 02                   	CALL	UPPER
  629/ 3E4 : 3C 53                      	CMP	AL,'S'
  630/ 3E6 : 74 6B                      	JE	LHS0
  631/ 3E8 : 3C 3A                      	CMP	AL,':'
  632/ 3EA : 74 10                      	JE	LHI0
  633/ 3EC :                            LH3:
  634/ 3EC :                            	;; Skip to EOL
  635/ 3EC : 3C 0D                      	CMP	AL,CR
  636/ 3EE : 74 E9                      	JE	LH2
  637/ 3F0 : 3C 0A                      	CMP	AL,LF
  638/ 3F2 : 74 E5                      	JE	LH2
  639/ 3F4 : E8 B3 06                   	CALL	CONIN
  640/ 3F7 : EB F3                      	JMP	LH3
  641/ 3F9 :                            LHE:
  642/ 3F9 : E9 44 FD                   	JMP	ERR
  643/ 3FC :                            
  644/ 3FC :                            LHI0:
  645/ 3FC : E8 0E 02                   	CALL	HEXIN
  646/ 3FF : 8A C8                      	MOV	CL,AL		; Checksum
  647/ 401 : 8A D8                      	MOV	BL,AL		; Length
  648/ 403 :                            
  649/ 403 : E8 07 02                   	CALL	HEXIN
  650/ 406 : 8A F0                      	MOV	DH,AL		; Address H
  651/ 408 : 02 C8                      	ADD	CL,AL		; Checksum
  652/ 40A :                            
  653/ 40A : E8 00 02                   	CALL	HEXIN
  654/ 40D : 8A D0                      	MOV	DL,AL		; Address L
  655/ 40F : 02 C8                      	ADD	CL,AL		; Checksum
  656/ 411 :                            
  657/ 411 : 8B FA                      	MOV	DI,DX
  658/ 413 : 03 FE                      	ADD	DI,SI		; Add offset
  659/ 415 :                            
  660/ 415 : E8 F5 01                   	CALL	HEXIN
  661/ 418 : A2 5F 01                   	MOV	[RECTYP],AL	; Record Type
  662/ 41B : 02 C8                      	ADD	CL,AL		; Checksum
  663/ 41D :                            
  664/ 41D : 0A DB                      	OR	BL,BL		; Check length
  665/ 41F : 74 15                      	JZ	LHI3
  666/ 421 :                            LHI1:
  667/ 421 : E8 E9 01                   	CALL	HEXIN
  668/ 424 : 02 C8                      	ADD	CL,AL		; Checksum
  669/ 426 :                            
  670/ 426 : 8A 3E 5F 01                	MOV	BH,[RECTYP]
  671/ 42A : 0A FF                      	OR	BH,BH
  672/ 42C : 75 04                      	JNZ	LHI2
  673/ 42E :                            
  674/ 42E : 26 88 05                   	MOV	ES:[DI],AL
  675/ 431 : 47                         	INC	DI
  676/ 432 :                            LHI2:
  677/ 432 : FE CB                      	DEC	BL
  678/ 434 : 75 EB                      	JNZ	LHI1
  679/ 436 :                            LHI3:
  680/ 436 : E8 D4 01                   	CALL	HEXIN
  681/ 439 : 02 C1                      	ADD	AL,CL
  682/ 43B : 75 0D                      	JNZ	LHIE		; Checksum error
  683/ 43D : A0 5F 01                   	MOV	AL,[RECTYP]
  684/ 440 : 0A C0                      	OR	AL,AL
  685/ 442 : 74 A8                      	JZ	LH3
  686/ 444 :                            
  687/ 444 :                            LHSR:
  688/ 444 : E8 F2 01                   	call	CRLF
  689/ 447 : E9 92 FC                   	JMP	WSTART
  690/ 44A :                            LHIE:
  691/ 44A : BB 1B 08                   	MOV	BX,IHEMSG
  692/ 44D : E8 1F 06                   	CALL	MSGOUT
  693/ 450 : E9 89 FC                   	JMP	WSTART
  694/ 453 :                            
  695/ 453 :                            LHS0:
  696/ 453 : E8 54 06                   	CALL	CONIN
  697/ 456 : A2 5F 01                   	MOV	[RECTYP],AL
  698/ 459 :                            
  699/ 459 : E8 B1 01                   	CALL	HEXIN
  700/ 45C : 8A D8                      	MOV	BL,AL		; Length+3
  701/ 45E : 8A C8                      	MOV	CL,AL		; Checksum
  702/ 460 :                            
  703/ 460 : E8 AA 01                   	CALL	HEXIN
  704/ 463 : 8A F0                      	MOV	DH,AL		; Address H
  705/ 465 : 02 C8                      	ADD	CL,AL		; Checksum
  706/ 467 :                            	
  707/ 467 : E8 A3 01                   	CALL	HEXIN
  708/ 46A : 8A D0                      	MOV	DL,AL		; Address L
  709/ 46C : 02 C8                      	ADD	CL,AL		; Checksum
  710/ 46E :                            
  711/ 46E : 8B FA                      	MOV	DI,DX
  712/ 470 : 03 FE                      	ADD	DI,SI		; Add offset
  713/ 472 :                            
  714/ 472 : 80 EB 03                   	SUB	BL,3
  715/ 475 : 72 2B                      	JC	LHSE		; Length error
  716/ 477 : 74 16                      	JZ	LHS3
  717/ 479 :                            LHS1:
  718/ 479 : E8 91 01                   	CALL	HEXIN
  719/ 47C : 02 C8                      	ADD	CL,AL		; Checksum
  720/ 47E :                            
  721/ 47E : 8A 3E 5F 01                	MOV	BH,[RECTYP]
  722/ 482 : 80 FF 31                   	CMP	BH,'1'
  723/ 485 : 75 04                      	JNZ	LHS2
  724/ 487 :                            
  725/ 487 : 26 88 05                   	MOV	ES:[DI],AL
  726/ 48A : 47                         	INC	DI
  727/ 48B :                            LHS2:
  728/ 48B : FE CB                      	DEC	BL
  729/ 48D : 75 EA                      	JNZ	LHS1
  730/ 48F :                            LHS3:
  731/ 48F : E8 7B 01                   	CALL	HEXIN
  732/ 492 : 02 C1                      	ADD	AL,CL
  733/ 494 : 3C FF                      	CMP	AL,0FFH
  734/ 496 : 75 0A                      	JNE	LHSE		; Checksum error
  735/ 498 :                            
  736/ 498 : A0 5F 01                   	MOV	AL,[RECTYP]
  737/ 49B : 3C 39                      	CMP	AL,'9'
  738/ 49D : 74 A5                      	JZ	LHSR
  739/ 49F : E9 4A FF                   	JMP	LH3
  740/ 4A2 :                            LHSE:
  741/ 4A2 : BB 28 08                   	MOV	BX,SHEMSG
  742/ 4A5 : E8 C7 05                   	CALL	MSGOUT
  743/ 4A8 : E9 31 FC                   	JMP	WSTART
  744/ 4AB :                            
  745/ 4AB :                            ;;;
  746/ 4AB :                            ;;; Register
  747/ 4AB :                            ;;; 
  748/ 4AB :                            REG:
  749/ 4AB : 43                         	INC	BX
  750/ 4AC : E8 E3 01                   	CALL	SKIPSP
  751/ 4AF : E8 EA 01                   	CALL	UPPER
  752/ 4B2 : 0A C0                      	OR	AL,AL
  753/ 4B4 : 75 06                      	JNE	RG0
  754/ 4B6 : E8 7F 00                   	CALL	RDUMP
  755/ 4B9 : E9 20 FC                   	JMP	WSTART
  756/ 4BC :                            RG0:
  757/ 4BC : BE 48 09                   	MOV	SI,RNTAB
  758/ 4BF :                            RG1:
  759/ 4BF : 2E 3A 04                   	CMP	AL,CS:[SI]
  760/ 4C2 : 74 0D                      	JE	RG2		; Character match
  761/ 4C4 : 2E 8A 4C 01                	MOV	CL,CS:1[SI]
  762/ 4C8 : 0A C9                      	OR	CL,CL
  763/ 4CA : 74 69                      	JE	RGE
  764/ 4CC : 83 C6 06                   	ADD	SI,6
  765/ 4CF : EB EE                      	JMP	RG1
  766/ 4D1 :                            RG2:
  767/ 4D1 : 2E 8A 44 01                	MOV	AL,CS:1[SI]
  768/ 4D5 : 3C 0F                      	CMP	AL,0FH
  769/ 4D7 : 75 0C                      	JNE	RG3
  770/ 4D9 :                            	;; Next table
  771/ 4D9 : 2E 8B 74 02                	MOV	SI,CS:2[SI]
  772/ 4DD : 43                         	INC	BX
  773/ 4DE : 8A 07                      	MOV	AL,[BX]
  774/ 4E0 : E8 B9 01                   	CALL	UPPER
  775/ 4E3 : EB DA                      	JMP	RG1
  776/ 4E5 :                            RG3:	
  777/ 4E5 : 0A C0                      	OR	AL,AL		; Found end mark
  778/ 4E7 : 74 4C                      	JE	RGE
  779/ 4E9 :                            
  780/ 4E9 : 2E 8A 4C 01                	MOV	CL,CS:1[SI]
  781/ 4ED : 2E 8B 5C 04                	MOV	BX,CS:4[SI]
  782/ 4F1 : E8 7B 05                   	CALL	MSGOUT
  783/ 4F4 : B0 3D                      	MOV	AL,'='
  784/ 4F6 : E8 D4 05                   	CALL	CONOUT
  785/ 4F9 : 2E 8B 5C 02                	MOV	BX,CS:2[SI]
  786/ 4FD : 80 E1 07                   	AND	CL,07H
  787/ 500 : 53                         	PUSH	BX
  788/ 501 : 51                         	PUSH	CX
  789/ 502 : 80 F9 01                   	CMP	CL,1
  790/ 505 : 75 07                      	JNE	RG4
  791/ 507 :                            	;; 8 bit register
  792/ 507 : 8A 07                      	MOV	AL,[BX]
  793/ 509 : E8 E7 00                   	CALL	HEXOUT2
  794/ 50C : EB 05                      	JMP	RG5
  795/ 50E :                            RG4:
  796/ 50E :                            	;; 16 bit register
  797/ 50E : 8B 07                      	MOV	AX,[BX]
  798/ 510 : E8 D9 00                   	CALL	HEXOUT4
  799/ 513 :                            RG5:
  800/ 513 : B0 20                      	MOV	AL,' '
  801/ 515 : E8 B5 05                   	CALL	CONOUT
  802/ 518 : E8 28 01                   	CALL	GETLIN
  803/ 51B : BB 00 01                   	MOV	BX,INBUF
  804/ 51E : E8 86 01                   	CALL	RDHEX
  805/ 521 : 0A C9                      	OR	CL,CL
  806/ 523 : 74 0D                      	JE	RGR
  807/ 525 : 59                         	POP	CX
  808/ 526 : 5B                         	POP	BX
  809/ 527 : 80 F9 01                   	CMP	CL,1
  810/ 52A : 75 04                      	JNE	RG6
  811/ 52C :                            	;; 8 bit register
  812/ 52C : 88 17                      	MOV	[BX],DL
  813/ 52E : EB 02                      	JMP	RG7
  814/ 530 :                            RG6:
  815/ 530 :                            	;; 16 bit register
  816/ 530 : 89 17                      	MOV	[BX],DX
  817/ 532 :                            RG7:
  818/ 532 :                            RGR:
  819/ 532 : E9 A7 FB                   	JMP	WSTART
  820/ 535 :                            RGE:
  821/ 535 : E9 08 FC                   	JMP	ERR
  822/ 538 :                            	
  823/ 538 :                            RDUMP:
  824/ 538 : BE B0 08                   	MOV	SI,RDTAB
  825/ 53B :                            RD0:	
  826/ 53B : 2E 8B 1C                   	MOV	BX,CS:[SI]
  827/ 53E : 0B DB                      	OR	BX,BX
  828/ 540 : 74 11                      	JZ	RD1
  829/ 542 : E8 2A 05                   	CALL	MSGOUT
  830/ 545 : 46                         	INC	SI
  831/ 546 : 46                         	INC	SI
  832/ 547 : 2E 8B 1C                   	MOV	BX,CS:[SI]
  833/ 54A : 8B 07                      	MOV	AX,[BX]
  834/ 54C : E8 9D 00                   	CALL	HEXOUT4
  835/ 54F : 46                         	INC	SI
  836/ 550 : 46                         	INC	SI
  837/ 551 : EB E8                      	JMP	RD0
  838/ 553 :                            RD1:	
  839/ 553 :                            ; Flag bit image
  840/ 553 :                            
  841/ 553 : BB 32 09                   	mov	bx, FLGB
  842/ 556 : E8 16 05                   	CALL	MSGOUT		;" FLb="
  843/ 559 :                            
  844/ 559 : BF 86 01                   	mov	di, F_bit
  845/ 55C : BB 38 09                   	mov	bx, Fbiton
  846/ 55F : B1 10                      	mov	cl, F_bitSize
  847/ 561 : A1 70 01                   	mov	ax, [REGF]
  848/ 564 : 25 D5 0F                   	and	ax, f_msk_bit
  849/ 567 :                            
  850/ 567 :                            fb_loop:
  851/ 567 : D1 E0                      	shl	ax, 1
  852/ 569 : 72 05                      	jc	rdf1
  853/ 56B :                            
  854/ 56B : C6 05 2E                   	mov	byte ptr [di], '.'
  855/ 56E : EB 05                      	jmp	rdf2
  856/ 570 :                            
  857/ 570 :                            rdf1:
  858/ 570 : 2E 8A 2F                   	mov	ch, cs:[bx]
  859/ 573 : 88 2D                      	mov	[di], ch
  860/ 575 :                            rdf2:
  861/ 575 : 43                         	inc	bx
  862/ 576 : 47                         	inc	di
  863/ 577 : FE C9                      	dec	cl
  864/ 579 : 75 EC                      	jnz	fb_loop
  865/ 57B :                            
  866/ 57B : C6 05 00                   	mov	byte ptr [di],0
  867/ 57E : BB 86 01                   	mov	bx, F_bit
  868/ 581 : E8 E3 04                   	CALL	STROUT		;"....ODITSZ.A.P.C"
  869/ 584 :                            	
  870/ 584 : E9 B2 00                   	JMP	CRLF
  871/ 587 :                            	
  872/ 587 :                            ;;;
  873/ 587 :                            ;;; T address
  874/ 587 :                            ;;; 
  875/ 587 :                            
  876/ 587 :                            Trace:
  877/ 587 : 43                         	INC	BX
  878/ 588 : E8 1C 01                   	CALL	RDHEX
  879/ 58B : 0A C9                      	OR	CL,CL
  880/ 58D : 74 19                      	JZ	T1
  881/ 58F : 8A 07                      	MOV	AL,[BX]
  882/ 591 : 3C 3A                      	CMP	AL,':'
  883/ 593 : 75 0C                      	JNE	T0
  884/ 595 :                            
  885/ 595 : 89 16 72 01                	MOV	[REGCS],DX
  886/ 599 : 43                         	INC	BX
  887/ 59A : E8 0A 01                   	CALL	RDHEX
  888/ 59D : 0A C9                      	OR	CL,CL
  889/ 59F : 74 0D                      	JZ	TE
  890/ 5A1 :                            T0:
  891/ 5A1 : 89 16 7E 01                	MOV	[REGIP],DX
  892/ 5A5 : E8 EA 00                   	CALL	SKIPSP
  893/ 5A8 :                            T1:
  894/ 5A8 : 8A 07                      	MOV	AL,[BX]
  895/ 5AA : 0A C0                      	or	al, al
  896/ 5AC : 74 03                      	je	To_go
  897/ 5AE :                            
  898/ 5AE :                            TE:
  899/ 5AE : E9 8F FB                   	JMP	ERR
  900/ 5B1 :                            
  901/ 5B1 :                            To_go:
  902/ 5B1 : 8E 16 76 01                	MOV	SS,[REGSS]
  903/ 5B5 : 8B 26 7A 01                	MOV	SP,[REGSP]
  904/ 5B9 :                            	
  905/ 5B9 : A1 70 01                   	MOV	AX,[REGF]
  906/ 5BC : 0D 00 01                   	or	ax, Tbit_ON_
  907/ 5BF :                            
  908/ 5BF : 50                         	PUSH	AX
  909/ 5C0 : A1 72 01                   	MOV	AX,[REGCS]
  910/ 5C3 : 50                         	PUSH	AX
  911/ 5C4 : A1 7E 01                   	MOV	AX,[REGIP]
  912/ 5C7 : 50                         	PUSH	AX
  913/ 5C8 :                            
  914/ 5C8 : A1 64 01                   	MOV	AX,[REGAX]
  915/ 5CB : 8B 1E 66 01                	MOV	BX,[REGBX]
  916/ 5CF : 8B 0E 68 01                	MOV	CX,[REGCX]
  917/ 5D3 : 8B 16 6A 01                	MOV	DX,[REGDX]
  918/ 5D7 : 8B 2E 7C 01                	MOV	BP,[REGBP]
  919/ 5DB : 8B 36 6C 01                	MOV	SI,[REGSI]
  920/ 5DF : 8B 3E 6E 01                	MOV	DI,[REGDI]
  921/ 5E3 : 8E 06 78 01                	MOV	ES,[REGES]
  922/ 5E7 : 8E 1E 74 01                	MOV	DS,[REGDS]
  923/ 5EB : CF                         	IRET
  924/ 5EC :                            
  925/ 5EC :                            ;;;
  926/ 5EC :                            ;;; Other support routines
  927/ 5EC :                            ;;;
  928/ 5EC :                            HEXOUT4:
  929/ 5EC : 50                         	PUSH	AX
  930/ 5ED : 8A C4                      	MOV	AL,AH
  931/ 5EF : E8 01 00                   	CALL	HEXOUT2
  932/ 5F2 : 58                         	POP	AX
  933/ 5F3 :                            HEXOUT2:
  934/ 5F3 : 50                         	PUSH	AX
  935/ 5F4 : D0 E8                      	SHR	AL,1
  936/ 5F6 : D0 E8                      	SHR	AL,1
  937/ 5F8 : D0 E8                      	SHR	AL,1
  938/ 5FA : D0 E8                      	SHR	AL,1
  939/ 5FC : E8 01 00                   	CALL	HEXOUT1
  940/ 5FF : 58                         	POP	AX
  941/ 600 :                            HEXOUT1:
  942/ 600 : 24 0F                      	AND	AL,0FH
  943/ 602 : 04 30                      	ADD	AL,'0'
  944/ 604 : 3C 3A                      	CMP	AL,'9'+1
  945/ 606 : 72 02                      	JC	HO10
  946/ 608 : 04 07                      	ADD	AL,'A'-'9'-1
  947/ 60A :                            HO10:
  948/ 60A : E9 C0 04                   	JMP	CONOUT
  949/ 60D :                            
  950/ 60D :                            HEXIN:
  951/ 60D : 32 C0                      	XOR	AL,AL
  952/ 60F : E8 08 00                   	CALL	HI0
  953/ 612 : D0 E0                      	SHL	AL,1
  954/ 614 : D0 E0                      	SHL	AL,1
  955/ 616 : D0 E0                      	SHL	AL,1
  956/ 618 : D0 E0                      	SHL	AL,1
  957/ 61A :                            HI0:
  958/ 61A : 8A E8                      	MOV	CH,AL
  959/ 61C : E8 8B 04                   	CALL	CONIN
  960/ 61F : E8 7A 00                   	CALL	UPPER
  961/ 622 : 3C 30                      	CMP	AL,'0'
  962/ 624 : 72 12                      	JC	HIR
  963/ 626 : 3C 3A                      	CMP	AL,'9'+1
  964/ 628 : 72 0A                      	JC	HI1
  965/ 62A : 3C 41                      	CMP	AL,'A'
  966/ 62C : 72 0A                      	JC	HIR
  967/ 62E : 3C 47                      	CMP	AL,'F'+1
  968/ 630 : 73 06                      	JNC	HIR
  969/ 632 : 2C 07                      	SUB	AL,'A'-'9'-1
  970/ 634 :                            HI1:
  971/ 634 : 2C 30                      	SUB	AL,'0'
  972/ 636 : 0A C5                      	OR	AL,CH
  973/ 638 :                            HIR:
  974/ 638 : C3                         	RET
  975/ 639 :                            
  976/ 639 :                            CRLF:
  977/ 639 : B0 0D                      	MOV	AL,CR
  978/ 63B : E8 8F 04                   	CALL	CONOUT
  979/ 63E : B0 0A                      	MOV	AL,LF
  980/ 640 : E9 8A 04                   	JMP	CONOUT
  981/ 643 :                            
  982/ 643 :                            GETLIN:
  983/ 643 : BB 00 01                   	MOV	BX,INBUF
  984/ 646 : 32 C9                      	XOR	CL,CL
  985/ 648 :                            GL0:
  986/ 648 : E8 5F 04                   	CALL	CONIN
  987/ 64B : 3C 0D                      	CMP	AL,CR
  988/ 64D : 74 3B                      	JZ	GLE
  989/ 64F : 3C 0A                      	CMP	AL,LF
  990/ 651 : 74 37                      	JZ	GLE
  991/ 653 : 3C 08                      	CMP	AL,BS
  992/ 655 : 74 1B                      	JZ	GLB
  993/ 657 : 3C 7F                      	CMP	AL,DEL
  994/ 659 : 74 17                      	JZ	GLB
  995/ 65B : 3C 20                      	CMP	AL,' '
  996/ 65D : 72 E9                      	JC	GL0
  997/ 65F : 3C 80                      	CMP	AL,80H
  998/ 661 : 73 E5                      	JNC	GL0
  999/ 663 : 80 F9 4F                   	CMP	CL,BUFLEN-1
 1000/ 666 : 73 E0                      	JNC	GL0		; Too long
 1001/ 668 : 88 07                      	MOV	[BX],AL
 1002/ 66A : E8 60 04                   	CALL	CONOUT
 1003/ 66D : 43                         	INC	BX
 1004/ 66E : FE C1                      	INC	CL
 1005/ 670 : EB D6                      	JMP	GL0
 1006/ 672 :                            GLB:
 1007/ 672 : 22 C9                      	AND	CL,CL
 1008/ 674 : 74 D2                      	JZ	GL0
 1009/ 676 : 4B                         	DEC	BX
 1010/ 677 : FE C9                      	DEC	CL
 1011/ 679 : B0 08                      	MOV	AL,BS
 1012/ 67B : E8 4F 04                   	CALL	CONOUT
 1013/ 67E : B0 20                      	MOV	AL,' '
 1014/ 680 : E8 4A 04                   	CALL	CONOUT
 1015/ 683 : B0 08                      	MOV	AL,BS
 1016/ 685 : E8 45 04                   	CALL	CONOUT
 1017/ 688 : EB BE                      	JMP	GL0
 1018/ 68A :                            GLE:
 1019/ 68A : E8 AC FF                   	CALL	CRLF
 1020/ 68D : B0 00                      	MOV	AL,00H
 1021/ 68F : 88 07                      	MOV	[BX],AL
 1022/ 691 : C3                         	RET
 1023/ 692 :                            	
 1024/ 692 :                            SKIPSP:
 1025/ 692 : 8A 07                      	MOV	AL,[BX]
 1026/ 694 : 3C 20                      	CMP	AL,' '
 1027/ 696 : 75 03                      	JNE	SSR
 1028/ 698 : 43                         	INC	BX
 1029/ 699 : EB F7                      	JMP	SKIPSP
 1030/ 69B :                            SSR:
 1031/ 69B : C3                         	RET
 1032/ 69C :                            
 1033/ 69C :                            UPPER:
 1034/ 69C : 3C 61                      	CMP	AL,'a'
 1035/ 69E : 72 06                      	JC	UPR
 1036/ 6A0 : 3C 7B                      	CMP	AL,'z'+1
 1037/ 6A2 : 73 02                      	JNC	UPR
 1038/ 6A4 : 04 E0                      	ADD	AL,'A'-'a'
 1039/ 6A6 :                            UPR:
 1040/ 6A6 : C3                         	RET
 1041/ 6A7 :                            
 1042/ 6A7 :                            RDHEX:
 1043/ 6A7 : E8 E8 FF                   	CALL	SKIPSP
 1044/ 6AA : 32 C9                      	XOR	CL,CL
 1045/ 6AC : 33 D2                      	XOR	DX,DX
 1046/ 6AE :                            RH0:
 1047/ 6AE : 8A 07                      	MOV	AL,[BX]
 1048/ 6B0 : E8 E9 FF                   	CALL	UPPER
 1049/ 6B3 : 3C 30                      	CMP	AL,'0'
 1050/ 6B5 : 72 1F                      	JC	RHE
 1051/ 6B7 : 3C 3A                      	CMP	AL,'9'+1
 1052/ 6B9 : 72 0A                      	JC	RH1
 1053/ 6BB : 3C 41                      	CMP	AL,'A'
 1054/ 6BD : 72 17                      	JC	RHE
 1055/ 6BF : 3C 47                      	CMP	AL,'F'+1
 1056/ 6C1 : 73 13                      	JNC	RHE
 1057/ 6C3 : 2C 07                      	SUB	AL,'A'-'9'-1
 1058/ 6C5 :                            RH1:
 1059/ 6C5 : 2C 30                      	SUB	AL,'0'
 1060/ 6C7 : D1 E2                      	SHL	DX,1
 1061/ 6C9 : D1 E2                      	SHL	DX,1
 1062/ 6CB : D1 E2                      	SHL	DX,1
 1063/ 6CD : D1 E2                      	SHL	DX,1
 1064/ 6CF : 0A D0                      	OR	DL,AL
 1065/ 6D1 : 43                         	INC	BX
 1066/ 6D2 : FE C1                      	INC	CL
 1067/ 6D4 : EB D8                      	JMP	RH0
 1068/ 6D6 :                            RHE:
 1069/ 6D6 : C3                         	RET
 1070/ 6D7 :                            
 1071/ 6D7 :                            ;-----------------------
 1072/ 6D7 :                            ; INT 21h function call 
 1073/ 6D7 :                            ;-----------------------
 1074/ 6D7 :                            INTFNC:
 1075/ 6D7 :                            	; get a charactor : AH = 7
 1076/ 6D7 :                            	; return AL : charactor
 1077/ 6D7 : 80 FC 07                   	cmp	ah, 7
 1078/ 6DA : 75 04                      	jnz	nfnc1
 1079/ 6DC : E8 CB 03                   	call	CONIN
 1080/ 6DF : CF                         	iret
 1081/ 6E0 :                            nfnc1:
 1082/ 6E0 :                            	; put a charactor : AH = 2
 1083/ 6E0 :                            	; input : DL : charactor
 1084/ 6E0 : 80 FC 02                   	cmp	ah, 2
 1085/ 6E3 : 75 06                      	jnz	nfnc2		; no support function
 1086/ 6E5 : 8A C2                      	mov	al, dl
 1087/ 6E7 : E8 E3 03                   	call	CONOUT
 1088/ 6EA : CF                         	iret
 1089/ 6EB :                            
 1090/ 6EB :                            nfnc2:
 1091/ 6EB :                            	; check key status : AH = 0BH
 1092/ 6EB :                            	; OUTPUT : AL : 0     ( key is not exist )
 1093/ 6EB :                            	;             : 0FFH  ( key is exist )
 1094/ 6EB : 80 FC 0B                   	cmp	ah, 0BH
 1095/ 6EE : 75 08                      	jnz	nfnc3		; no support function
 1096/ 6F0 : E8 D2 03                   	call	CONST
 1097/ 6F3 : 74 02                      	jz	nfnc4
 1098/ 6F5 : B0 FF                      	mov	al, 0FFH
 1099/ 6F7 :                            nfnc4:
 1100/ 6F7 : CF                         	iret
 1101/ 6F8 :                            	
 1102/ 6F8 :                            nfnc3:
 1103/ 6F8 : 80 FC 00                   	cmp	ah, 0
 1104/ 6FB : 75 FA                      	jnz	nfnc4
 1105/ 6FD :                            
 1106/ 6FD : B8 30 FF                   	MOV	AX,MON_DSEG
 1107/ 700 : 8E D8                      	MOV	DS,AX
 1108/ 702 : 8E D0                      	MOV	SS,AX
 1109/ 704 : BC 00 01                   	MOV	SP,STACK
 1110/ 707 : E9 B0 00                   	jmp	chk_bpt
 1111/ 70A :                            
 1112/ 70A :                            ;;;
 1113/ 70A :                            ;;; Interrupt Handler
 1114/ 70A :                            ;;;
 1115/ 70A :                            
 1116/ 70A :                            	;; Divide error (INT 00H)
 1117/ 70A :                            INTDIV:
 1118/ 70A : 50                         	PUSH	AX
 1119/ 70B : 1E                         	PUSH	DS
 1120/ 70C : B8 30 FF                   	MOV	AX,MON_DSEG
 1121/ 70F : 8E D8                      	MOV	DS,AX
 1122/ 711 : 89 1E 66 01                	MOV	[REGBX],BX
 1123/ 715 : 89 0E 68 01                	MOV	[REGCX],CX
 1124/ 719 : BB 77 08                   	MOV	BX,DIVMSG
 1125/ 71C : 33 C9                      	XOR	CX,CX		; IP adjustment
 1126/ 71E : EB 57                      	JMP	INT0
 1127/ 720 :                            	
 1128/ 720 :                            	;; Single step (INT 01H)
 1129/ 720 :                            INTSTP:
 1130/ 720 : 50                         	PUSH	AX
 1131/ 721 : 1E                         	PUSH	DS
 1132/ 722 : B8 30 FF                   	MOV	AX,MON_DSEG
 1133/ 725 : 8E D8                      	MOV	DS,AX
 1134/ 727 : 89 1E 66 01                	MOV	[REGBX],BX
 1135/ 72B : 89 0E 68 01                	MOV	[REGCX],CX
 1136/ 72F : BB 88 08                   	MOV	BX,STPMSG
 1137/ 732 : 33 C9                      	XOR	CX,CX		; IP adjustment
 1138/ 734 : EB 41                      	JMP	INT0
 1139/ 736 :                            	
 1140/ 736 :                            	;; NMI (INT 02H)
 1141/ 736 :                            INTNMI:
 1142/ 736 : 50                         	PUSH	AX
 1143/ 737 : 1E                         	PUSH	DS
 1144/ 738 : B8 30 FF                   	MOV	AX,MON_DSEG
 1145/ 73B : 8E D8                      	MOV	DS,AX
 1146/ 73D : 89 1E 66 01                	MOV	[REGBX],BX
 1147/ 741 : 89 0E 68 01                	MOV	[REGCX],CX
 1148/ 745 : BB 91 08                   	MOV	BX,NMIMSG
 1149/ 748 : 33 C9                      	XOR	CX,CX		; IP adjustment
 1150/ 74A : EB 2B                      	JMP	INT0
 1151/ 74C :                            	
 1152/ 74C :                            	;; Break (INT 03H)
 1153/ 74C :                            INTBRK:
 1154/ 74C : 50                         	PUSH	AX
 1155/ 74D : 1E                         	PUSH	DS
 1156/ 74E : B8 30 FF                   	MOV	AX,MON_DSEG
 1157/ 751 : 8E D8                      	MOV	DS,AX
 1158/ 753 : 89 1E 66 01                	MOV	[REGBX],BX
 1159/ 757 : 89 0E 68 01                	MOV	[REGCX],CX
 1160/ 75B : BB 99 08                   	MOV	BX,BRKMSG
 1161/ 75E : B9 01 00                   	MOV	CX,1		; IP adjustment
 1162/ 761 : EB 14                      	JMP	INT0
 1163/ 763 :                            	
 1164/ 763 :                            	;; Overflow (INT 04H)
 1165/ 763 :                            INTOVF:
 1166/ 763 : 50                         	PUSH	AX
 1167/ 764 : 1E                         	PUSH	DS
 1168/ 765 : B8 30 FF                   	MOV	AX,MON_DSEG
 1169/ 768 : 8E D8                      	MOV	DS,AX
 1170/ 76A : 89 1E 66 01                	MOV	[REGBX],BX
 1171/ 76E : 89 0E 68 01                	MOV	[REGCX],CX
 1172/ 772 : BB A3 08                   	MOV	BX,OVFMSG
 1173/ 775 : 33 C9                      	XOR	CX,CX		; IP adjustment
 1174/ 777 :                            INT0:
 1175/ 777 : 58                         	POP	AX
 1176/ 778 : A3 74 01                   	MOV	[REGDS],AX
 1177/ 77B : 58                         	POP	AX
 1178/ 77C : A3 64 01                   	MOV	[REGAX],AX
 1179/ 77F : 89 16 6A 01                	MOV	[REGDX],DX
 1180/ 783 :                            
 1181/ 783 : 89 2E 7C 01                	MOV	[REGBP],BP
 1182/ 787 : 89 36 6C 01                	MOV	[REGSI],SI
 1183/ 78B : 89 3E 6E 01                	MOV	[REGDI],DI
 1184/ 78F : 8C 06 78 01                	MOV	[REGES],ES
 1185/ 793 :                            
 1186/ 793 : 58                         	POP	AX
 1187/ 794 : 2B C1                      	SUB	AX,CX
 1188/ 796 : A3 7E 01                   	MOV	[REGIP],AX
 1189/ 799 : 58                         	POP	AX
 1190/ 79A : A3 72 01                   	MOV	[REGCS],AX
 1191/ 79D : 58                         	POP	AX
 1192/ 79E : 25 D5 0E                   	and	ax,Tbit_OFF	; trace mode off
 1193/ 7A1 :                            
 1194/ 7A1 : A3 70 01                   	MOV	[REGF],AX
 1195/ 7A4 :                            
 1196/ 7A4 : 89 26 7A 01                	MOV	[REGSP],SP
 1197/ 7A8 : 8C 16 76 01                	MOV	[REGSS],SS
 1198/ 7AC :                            
 1199/ 7AC : B8 30 FF                   	mov	ax, MON_DSEG
 1200/ 7AF : 8E D0                      	mov	ss, ax
 1201/ 7B1 : BC 00 01                   	mov	sp, STACK
 1202/ 7B4 : E8 B8 02                   	CALL	MSGOUT
 1203/ 7B7 : E8 7E FD                   	CALL	RDUMP
 1204/ 7BA :                            
 1205/ 7BA :                            ; check break point
 1206/ 7BA :                            
 1207/ 7BA :                            chk_bpt:
 1208/ 7BA : A0 80 01                   	mov	al, [bflg]
 1209/ 7BD : 0A C0                      	or	al, al
 1210/ 7BF : 74 14                      	je	nobrkp
 1211/ 7C1 :                            
 1212/ 7C1 :                            ; restore a original code at break point
 1213/ 7C1 :                            
 1214/ 7C1 : A1 82 01                   	mov	ax, [brkcs]
 1215/ 7C4 : 8E C0                      	mov	es, ax
 1216/ 7C6 : 8B 36 84 01                	mov	si, [brkip]
 1217/ 7CA : A0 81 01                   	mov	al, [bp_code]
 1218/ 7CD : 26 88 04                   	mov	es:[si], al	; restore a original code
 1219/ 7D0 : 32 C0                      	xor	al, al
 1220/ 7D2 : A2 80 01                   	mov	[bflg], al	; clear break flag
 1221/ 7D5 :                            
 1222/ 7D5 :                            nobrkp:
 1223/ 7D5 : E9 04 F9                   	JMP	WSTART
 1224/ 7D8 :                            
 1225/ 7D8 :                            	;; Dummy
 1226/ 7D8 :                            INTDMY:
 1227/ 7D8 : CF                         	IRET
 1228/ 7D9 :                            
 1229/ 7D9 :                            OPNMSG:
 1230/ 7D9 : 55 6E 69 76 65 72 73 61 6C 	DB	"Universal Monitor MEZ86_RAM Edition",CR,LF, 00H
       7E2 : 20 4D 6F 6E 69 74 6F 72 20
       7EB : 4D 45 5A 38 36 5F 52 41 4D
       7F4 : 20 45 64 69 74 69 6F 6E 0D
       7FD : 0A 00                     
 1231/ 7FF :                            
 1232/ 7FF :                            cpu_msg:
 1233/ 7FF : 43 50 55 20 54 59 50 45 20 	db	"CPU TYPE : ", 00h
       808 : 3A 20 00                  
 1234/ 80B : 38 30 38 36 0D 0A 00       IM86:	DB	"8086",CR,LF,00H
 1235/ 812 : 56 33 30 0D 0A 00          IMV30:	DB	"V30",CR,LF,00H
 1236/ 818 :                            
 1237/ 818 :                            PROMPT:
 1238/ 818 : 5D 20 00                   	DB	"] ",00H
 1239/ 81B :                            
 1240/ 81B :                            IHEMSG:
 1241/ 81B : 45 72 72 6F 72 20 69 68 65 	DB	"Error ihex",CR,LF,00H
       824 : 78 0D 0A 00               
 1242/ 828 :                            SHEMSG:
 1243/ 828 : 45 72 72 6F 72 20 73 72 65 	DB	"Error srec",CR,LF,00H
       831 : 63 0D 0A 00               
 1244/ 835 :                            ERRMSG:
 1245/ 835 : 45 72 72 6F 72 0D 0A 00    	DB	"Error",CR,LF,00H
 1246/ 83D :                            
 1247/ 83D :                            DSEP0:
 1248/ 83D : 20 3A 00                   	DB	" :",00H
 1249/ 840 :                            DSEP1:
 1250/ 840 : 20 3A 20 00                	DB	" : ",00H
 1251/ 844 :                            IHEXER:
 1252/ 844 : 3A 30 30 30 30 30 30 30 31         DB	":00000001FF",CR,LF,00H
       84D : 46 46 0D 0A 00            
 1253/ 852 :                            SRECER:
 1254/ 852 : 53 39 30 33 30 30 30 30 46         DB	"S9030000FC",CR,LF,00H
       85B : 43 0D 0A 00               
 1255/ 85F :                            
 1256/ 85F :                            INIVEC:
 1257/ 85F : 0A 07 50 FF                	DW	INTDIV, MON_CSEG	; 00H Divide error
 1258/ 863 : 20 07 50 FF                	DW	INTSTP, MON_CSEG	; 01H Single step
 1259/ 867 : 36 07 50 FF                	DW	INTNMI, MON_CSEG	; 02H NMI
 1260/ 86B : 4C 07 50 FF                	DW	INTBRK, MON_CSEG	; 03H Breakpoint
 1261/ 86F : 63 07 50 FF                	DW	INTOVF, MON_CSEG	; 04H Overflow
 1262/ 873 :                            def_vec:
 1263/ 873 : D8 07 50 FF                	dw	INTDMY, MON_CSEG
 1264/ 877 : =0AH                       intvec_sizew	equ	(def_vec-INIVEC)/2
 1265/ 877 :                            
 1266/ 877 :                            
 1267/ 877 : 0D 0A 44 69 76 69 64 65 20 DIVMSG:	DB	CR,LF,"Divide error",CR,LF,00H
       880 : 65 72 72 6F 72 0D 0A 00   
 1268/ 888 : 0D 0A 53 74 65 70 0D 0A 00 STPMSG:	DB	CR,LF,"Step",CR,LF,00H
 1269/ 891 : 0D 0A 4E 4D 49 0D 0A 00    NMIMSG:	DB	CR,LF,"NMI",CR,LF,00H
 1270/ 899 : 0D 0A 42 72 65 61 6B 0D 0A BRKMSG:	DB	CR,LF,"Break",CR,LF,00H
       8A2 : 00                        
 1271/ 8A3 : 0D 0A 4F 76 65 72 66 6C 6F OVFMSG:	DB	CR,LF,"Overflow",CR,LF,00H
       8AC : 77 0D 0A 00               
 1272/ 8B0 :                            
 1273/ 8B0 : EC 08 64 01                RDTAB:	DW	RDSAX, REGAX
 1274/ 8B4 : F0 08 66 01                	DW	RDSBX, REGBX
 1275/ 8B8 : F5 08 68 01                	DW	RDSCX, REGCX
 1276/ 8BC : FA 08 6A 01                	DW	RDSDX, REGDX
 1277/ 8C0 : FF 08 70 01                	DW	RDSF,  REGF
 1278/ 8C4 : 04 09 72 01                	DW	RDSCS, REGCS
 1279/ 8C8 : 09 09 74 01                	DW	RDSDS, REGDS
 1280/ 8CC : 0E 09 76 01                	DW	RDSSS, REGSS
 1281/ 8D0 : 13 09 78 01                	DW	RDSES, REGES
 1282/ 8D4 : 18 09 7A 01                	DW	RDSSP, REGSP
 1283/ 8D8 : 1E 09 7C 01                	DW	RDSBP, REGBP
 1284/ 8DC : 23 09 6C 01                	DW	RDSSI, REGSI
 1285/ 8E0 : 28 09 6E 01                	DW	RDSDI, REGDI
 1286/ 8E4 : 2D 09 7E 01                	DW	RDSIP, REGIP
 1287/ 8E8 :                            	
 1288/ 8E8 : 00 00 00 00                	DW	0000H, 0000H
 1289/ 8EC :                            
 1290/ 8EC : 41 58 3D 00                RDSAX:	DB	"AX=",00H
 1291/ 8F0 : 20 42 58 3D 00             RDSBX:	DB	" BX=",00H
 1292/ 8F5 : 20 43 58 3D 00             RDSCX:	DB	" CX=",00H
 1293/ 8FA : 20 44 58 3D 00             RDSDX:	DB	" DX=",00H
 1294/ 8FF : 20 46 4C 3D 00             RDSF:	DB	" FL=",00H
 1295/ 904 : 20 43 53 3D 00             RDSCS:	DB	" CS=",00H
 1296/ 909 : 20 44 53 3D 00             RDSDS:	DB	" DS=",00H
 1297/ 90E : 20 53 53 3D 00             RDSSS:	DB	" SS=",00H
 1298/ 913 : 20 45 53 3D 00             RDSES:	DB	" ES=",00H
 1299/ 918 : 0D 0A 53 50 3D 00          RDSSP:	DB	CR,LF,"SP=",00H
 1300/ 91E : 20 42 50 3D 00             RDSBP:	DB	" BP=",00H
 1301/ 923 : 20 53 49 3D 00             RDSSI:	DB	" SI=",00H
 1302/ 928 : 20 44 49 3D 00             RDSDI:	DB	" DI=",00H
 1303/ 92D : 20 49 50 3D 00             RDSIP:	DB	" IP=",00H
 1304/ 932 :                            
 1305/ 932 : 20 46 4C 62 3D 00          FLGB:	db	" FLb=",00h
 1306/ 938 : 2E 2E 2E 2E 4F 44 49 54 53 Fbiton:	db	"....ODITSZ.A.P.C"
       941 : 5A 2E 41 2E 50 2E 43      
 1307/ 948 :                            
 1308/ 948 :                            
 1309/ 948 :                            RNTAB:
 1310/ 948 : 41 0F                      	DB	'A',0FH		; "A?"
 1311/ 94A : 7E 09 00 00                	DW	RNTABA,0
 1312/ 94E : 42 0F                      	DB	'B',0FH		; "B?"
 1313/ 950 : 96 09 00 00                	DW	RNTABB,0
 1314/ 954 : 43 0F                      	DB	'C',0FH		; "C?"
 1315/ 956 : B4 09 00 00                	DW	RNTABC,0
 1316/ 95A : 44 0F                      	DB	'D',0FH		; "D?"
 1317/ 95C : D2 09 00 00                	DW	RNTABD,0
 1318/ 960 : 45 0F                      	DB	'E',0FH		; "E?"
 1319/ 962 : D2 09 00 00                	DW	RNTABD,0
 1320/ 966 : 46 02                      	DB	'F',2		; "F"
 1321/ 968 : 70 01 59 0A                	DW	REGF,RNF
 1322/ 96C : 49 0F                      	DB	'I',0FH		; "I?"
 1323/ 96E : 02 0A 00 00                	DW	RNTABI,0
 1324/ 972 : 53 0F                      	DB	'S',0FH		; "S?"
 1325/ 974 : 0E 0A 00 00                	DW	RNTABS,0
 1326/ 978 :                            
 1327/ 978 : 00 00                      	DB	00H,0		; End mark
 1328/ 97A : 00 00 00 00                	DW	0,0
 1329/ 97E :                            	
 1330/ 97E :                            RNTABA:
 1331/ 97E : 58 02                      	DB	'X',2		; "AX"
 1332/ 980 : 64 01 26 0A                	DW	REGAX,RNAX
 1333/ 984 : 48 01                      	DB	'H',1		; "AH"
 1334/ 986 : 65 01 29 0A                	DW	REGAX+1,RNAH
 1335/ 98A : 4C 01                      	DB	'L',1		; "AL"
 1336/ 98C : 64 01 2C 0A                	DW	REGAX,RNAL
 1337/ 990 :                            
 1338/ 990 : 00 00                      	DB	00H,0		; End mark
 1339/ 992 : 00 00 00 00                	DW	0,0
 1340/ 996 :                            
 1341/ 996 :                            RNTABB:
 1342/ 996 : 58 02                      	DB	'X',2		; "BX"
 1343/ 998 : 66 01 2F 0A                	DW	REGBX,RNBX
 1344/ 99C : 48 01                      	DB	'H',1		; "BH"
 1345/ 99E : 67 01 32 0A                	DW	REGBX+1,RNBH
 1346/ 9A2 : 4C 01                      	DB	'L',1		; "BL"
 1347/ 9A4 : 66 01 35 0A                	DW	REGBX,RNBL
 1348/ 9A8 : 50 02                      	DB	'P',2		; "BP"
 1349/ 9AA : 7C 01 38 0A                	DW	REGBP,RNBP
 1350/ 9AE :                            	
 1351/ 9AE : 00 00                      	DB	00H,0		; End mark
 1352/ 9B0 : 00 00 00 00                	DW	0,0
 1353/ 9B4 :                            
 1354/ 9B4 :                            RNTABC:
 1355/ 9B4 : 58 02                      	DB	'X',2		; "CX"
 1356/ 9B6 : 68 01 3B 0A                	DW	REGCX,RNCX
 1357/ 9BA : 48 01                      	DB	'H',1		; "CH"
 1358/ 9BC : 69 01 3E 0A                	DW	REGCX+1,RNCH
 1359/ 9C0 : 4C 01                      	DB	'L',1		; "CL"
 1360/ 9C2 : 68 01 41 0A                	DW	REGCX,RNCL
 1361/ 9C6 : 53 02                      	DB	'S',2		; "CS"
 1362/ 9C8 : 72 01 44 0A                	DW	REGCS,RNCS
 1363/ 9CC :                            	
 1364/ 9CC : 00 00                      	DB	00H,0		; End mark
 1365/ 9CE : 00 00 00 00                	DW	0,0
 1366/ 9D2 :                            	
 1367/ 9D2 :                            RNTABD:
 1368/ 9D2 : 58 02                      	DB	'X',2		; "DX"
 1369/ 9D4 : 6A 01 47 0A                	DW	REGDX,RNDX
 1370/ 9D8 : 48 01                      	DB	'H',1		; "DH"
 1371/ 9DA : 6B 01 4A 0A                	DW	REGDX+1,RNDH
 1372/ 9DE : 4C 01                      	DB	'L',1		; "DL"
 1373/ 9E0 : 6A 01 4D 0A                	DW	REGDX,RNDL
 1374/ 9E4 : 49 02                      	DB	'I',2		; "DI"
 1375/ 9E6 : 6E 01 50 0A                	DW	REGDI,RNDI
 1376/ 9EA : 53 02                      	DB	'S',2		; "DS"
 1377/ 9EC : 74 01 53 0A                	DW	REGDS,RNDS
 1378/ 9F0 :                            	
 1379/ 9F0 : 00 00                      	DB	00H,0		; End mark
 1380/ 9F2 : 00 00 00 00                	DW	0,0
 1381/ 9F6 :                            
 1382/ 9F6 :                            RNTABE:
 1383/ 9F6 : 53 02                      	DB	'S',2		; "ES"
 1384/ 9F8 : 78 01 56 0A                	DW	REGES,RNES
 1385/ 9FC :                            	
 1386/ 9FC : 00 00                      	DB	00H,0		; End mark
 1387/ 9FE : 00 00 00 00                	DW	0,0
 1388/ A02 :                            	
 1389/ A02 :                            RNTABI:
 1390/ A02 : 50 02                      	DB	'P',2		; "IP"
 1391/ A04 : 7E 01 5B 0A                	DW	REGIP,RNIP
 1392/ A08 :                            	
 1393/ A08 : 00 00                      	DB	00H,0		; End mark
 1394/ A0A : 00 00 00 00                	DW	0,0
 1395/ A0E :                            	
 1396/ A0E :                            RNTABS:
 1397/ A0E : 49 02                      	DB	'I',2		; "SI"
 1398/ A10 : 6C 01 5E 0A                	DW	REGSI,RNSI
 1399/ A14 : 50 02                      	DB	'P',2		; "SP"
 1400/ A16 : 7A 01 61 0A                	DW	REGSP,RNSP
 1401/ A1A : 53 02                      	DB	'S',2		; "SS"
 1402/ A1C : 76 01 64 0A                	DW	REGSS,RNSS
 1403/ A20 :                            	
 1404/ A20 : 00 00                      	DB	00H,0		; End mark
 1405/ A22 : 00 00 00 00                	DW	0,0
 1406/ A26 :                            	
 1407/ A26 : 41 58 00                   RNAX:	DB	"AX",00H
 1408/ A29 : 41 48 00                   RNAH:	DB	"AH",00H
 1409/ A2C : 41 4C 00                   RNAL:	DB	"AL",00H
 1410/ A2F : 42 58 00                   RNBX:	DB	"BX",00H
 1411/ A32 : 42 48 00                   RNBH:	DB	"BH",00H
 1412/ A35 : 42 4C 00                   RNBL:	DB	"BL",00H
 1413/ A38 : 42 50 00                   RNBP:	DB	"BP",00H
 1414/ A3B : 43 58 00                   RNCX:	DB	"CX",00H
 1415/ A3E : 43 48 00                   RNCH:	DB	"CH",00H
 1416/ A41 : 43 4C 00                   RNCL:	DB	"CL",00H
 1417/ A44 : 43 53 00                   RNCS:	DB	"CS",00H
 1418/ A47 : 44 58 00                   RNDX:	DB	"DX",00H
 1419/ A4A : 44 48 00                   RNDH:	DB	"DH",00H
 1420/ A4D : 44 4C 00                   RNDL:	DB	"DL",00H
 1421/ A50 : 44 49 00                   RNDI:	DB	"DI",00H
 1422/ A53 : 44 53 00                   RNDS:	DB	"DS",00H
 1423/ A56 : 45 53 00                   RNES:	DB	"ES",00H
 1424/ A59 : 46 00                      RNF:	DB	"F",00H
 1425/ A5B : 49 50 00                   RNIP:	DB	"IP",00H
 1426/ A5E : 53 49 00                   RNSI:	DB	"SI",00H
 1427/ A61 : 53 50 00                   RNSP:	DB	"SP",00H
 1428/ A64 : 53 53 00                   RNSS:	DB	"SS",00H
 1429/ A67 :                            
 1430/ A67 :                            ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 1431/ A67 :                            ;
 1432/ A67 :                            ; input / output console
 1433/ A67 :                            ;
 1434/ A67 :                            ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 1435/ A67 :                            STROUT:
 1436/ A67 : 51                         	push	cx
 1437/ A68 : 52                         	push	dx
 1438/ A69 : 53                         	push	bx
 1439/ A6A : 1E                         	push	ds
 1440/ A6B : 8C DA                      	mov	dx, ds
 1441/ A6D : EB 06                      	jmp	msg_out
 1442/ A6F :                            
 1443/ A6F :                            MSGOUT:
 1444/ A6F : 51                         	push	cx
 1445/ A70 : 52                         	push	dx
 1446/ A71 : 53                         	push	bx
 1447/ A72 : 1E                         	push	ds
 1448/ A73 : 8C CA                      	mov	dx, cs
 1449/ A75 :                            msg_out:
 1450/ A75 : 32 C9                      	xor	cl, cl		; clear count
 1451/ A77 : 8E DA                      	mov	ds, dx
 1452/ A79 :                            msg_lp:
 1453/ A79 : 8A 07                      	mov	al, [bx]
 1454/ A7B : 0A C0                      	or	al, al
 1455/ A7D : 74 05                      	jz	msg_cend
 1456/ A7F : FE C1                      	inc	cl
 1457/ A81 : 43                         	inc	bx
 1458/ A82 : EB F5                      	jmp	msg_lp
 1459/ A84 :                            
 1460/ A84 :                            msg_cend:
 1461/ A84 : 1F                         	pop	ds
 1462/ A85 : 5B                         	pop	bx
 1463/ A86 : 2E C6 06 00 00 04          	mov	cs:[UREQ_COM], REQ_STROUT	; set command
 1464/ A8C : 2E 88 0E 01 00             	mov	cs:[UNI_CHR], cl		; set string bytyes
 1465/ A91 : 2E 89 1E 02 00             	mov	cs:[STR_OFF], bx		; set string offset
 1466/ A96 : 2E 89 16 04 00             	mov	cs:[STR_SEG], dx		; set string segment
 1467/ A9B : BA 00 F0                   	mov	dx, DUMMY_PORT
 1468/ A9E : EC                         	in	al, dx				; invoke PIC F/W
 1469/ A9F :                            
 1470/ A9F :                            wait_stout:
 1471/ A9F : 2E A0 00 00                	mov	al, cs:[UREQ_COM]
 1472/ AA3 : 0A C0                      	or	al, al
 1473/ AA5 : 75 F8                      	jnz	wait_stout
 1474/ AA7 :                            
 1475/ AA7 : 5A                         	pop	dx
 1476/ AA8 : 59                         	pop	cx
 1477/ AA9 : C3                         	ret
 1478/ AAA :                            
 1479/ AAA :                            CONIN:
 1480/ AAA : 2E C6 06 00 00 01          	mov	cs:[UREQ_COM], REQ_CONIN	; set CONIN request
 1481/ AB0 :                            CON_REQ:
 1482/ AB0 : 52                         	push	dx
 1483/ AB1 : BA 00 F0                   	mov	dx, DUMMY_PORT
 1484/ AB4 : EC                         	in	al, dx				; invoke PIC F/W
 1485/ AB5 :                            wait_conin:
 1486/ AB5 : 2E A0 00 00                	mov	al, cs:[UREQ_COM]
 1487/ AB9 : 0A C0                      	or	al, al
 1488/ ABB : 75 F8                      	jnz	wait_conin
 1489/ ABD :                            
 1490/ ABD : 5A                         	pop	dx
 1491/ ABE : 2E A0 01 00                	mov	al, cs:[UNI_CHR]		; get char or status
 1492/ AC2 : 22 C0                      	and	al, al
 1493/ AC4 : C3                         	ret
 1494/ AC5 :                            
 1495/ AC5 :                            CONST:
 1496/ AC5 : 2E C6 06 00 00 03          	mov	cs:[UREQ_COM], REQ_CONST	; set CONST request
 1497/ ACB : EB E3                      	jmp	CON_REQ
 1498/ ACD :                            
 1499/ ACD :                            CONOUT:
 1500/ ACD : 2E C6 06 00 00 02          	mov	cs:[UREQ_COM], REQ_CONOUT	; set CONOUT request
 1501/ AD3 : 2E A2 01 00                	mov	cs:[UNI_CHR], al		; set char
 1502/ AD7 : EB D7                      	jmp	CON_REQ
 1503/ AD9 :                            ;
 1504/ AD9 :                            ; end unimon code
 1505/ AD9 :                            ;
 1506/ AD9 :                            
 1507/ AD9 : =0AF0H                     reset_vec	equ 0ffff0h-MON_CSEG*16
 1508/ AD9 :                            
 1509/ AD9 : FF FF FF FF FF FF FF FF FF 	db	reset_vec - $ dup(0FFH)
       AE2 : FF FF FF FF FF FF FF FF FF
       AEB : FF FF FF FF FF            
 1510/ AF0 :                            
 1511/ AF0 :                            	;;
 1512/ AF0 :                            	;; Reset entry point
 1513/ AF0 :                            	;;
 1514/ AF0 :                            	
 1515/ AF0 : EA 10 00 50 FF             	JMPF	MON_CSEG:CSTART
 1516/ AF5 :                            
 1517/ AF5 : FF FF FF FF FF FF FF FF FF 	db	10h - ($ & 0fh) dup(0ffh)
       AFE : FF FF                     
 1518/ B00 :                            ;;;
 1519/ B00 :                            ;;; RAM area
 1520/ B00 :                            ;;;
 1521/ B00 :                            
 1522/   0 :                            	SEGMENT	DATA
 1523/   0 :                            
 1524/   0 :                            	;;
 1525/   0 :                            	;; Work area
 1526/   0 :                            	;;
 1527/   0 :                            
 1528/ 100 :                            	ORG	WORK_B
 1529/ 100 :                            
 1530/ 100 :                            INBUF:	DS	BUFLEN	; Line input buffer
 1531/ 150 :                            CURSEG:	DS	2	; Current segment
 1532/ 152 :                            DSADDR:	DS	2	; DUMP start address
 1533/ 154 :                            DEADDR:	DS	2	; DUMP end address
 1534/ 156 :                            DSTATE:	DS	1	; DUMP state
 1535/ 157 :                            	ALIGN	2
 1536/ 158 :                            GADDR:	DS	2	; GO address
 1537/ 15A :                            SADDR:	DS	2	; SET address
 1538/ 15C :                            HEXMOD:	DS	1	; HEX file mode
 1539/ 15D :                            PSPEC:	DS	2	; Processor spec.
 1540/ 15F :                            
 1541/ 15F :                            RECTYP:	DS	1	; Record type
 1542/ 160 :                            
 1543/ 160 :                            	ALIGN	2
 1544/ 160 :                            apl_addr	ds	4	; aplication program address check buffer
 1545/ 164 :                            
 1546/ 164 :                            REG_B:	
 1547/ 164 :                            REGAX:	DS	2
 1548/ 166 :                            REGBX:	DS	2
 1549/ 168 :                            REGCX:	DS	2
 1550/ 16A :                            REGDX:	DS	2
 1551/ 16C :                            REGSI:	DS	2		; Source Index SI
 1552/ 16E :                            REGDI:	DS	2		; Destination Index DI
 1553/ 170 :                            REGF:	DS	2
 1554/ 172 :                            REG_E:
 1555/ 172 :                            
 1556/ 172 :                            REGCS:	DS	2		; Code Segment CS
 1557/ 174 :                            REGDS:	DS	2		; Data Segment DS
 1558/ 176 :                            REGSS:	DS	2		; Stack Segment SS
 1559/ 178 :                            REGES:	DS	2		; Extra Segment ES
 1560/ 17A :                            
 1561/ 17A :                            REGSP:	DS	2		; Stack Pointer SP
 1562/ 17C :                            REGBP:	DS	2		; Base Pointer BP
 1563/ 17E :                            REGIP:	DS	2		; Instruction Pointer IP
 1564/ 180 :                            
 1565/ 180 :                            ; break point
 1566/ 180 :                            bflg	ds	1
 1567/ 181 :                            bp_code	ds	1
 1568/ 182 :                            brkcs	ds	2
 1569/ 184 :                            brkip	ds	2
 1570/ 186 :                            
 1571/ 186 :                            ; Frag register bit image string buffer
 1572/ 186 :                            F_bit:		ds	F_bitSize+1
 1573/ 197 :                            
 1574/ 197 :                            	END
 AS V1.42 Beta [Bld 271] - Source File unimon_s86.asm - Page 2 - 7/31/2025 6:5:15


  Symbol Table (* = unused):
  --------------------------

 APL_ADDR :                     160 D |
*ARCHITECTURE :                                        "i386-unknown-win32" - |
 BFLG :                         180 D |  BP_CODE :                      181 D |
 BRKCS :                        182 D |  BRKIP :                        184 D |
 BRKMSG :                       899 C |  BRN_APLI :                     0D2 C |
 BS :                             8 - |  BUFLEN :                        50 - |
*CASESENSITIVE :                  0 - | *CBI_CHR :                        7 C |
 CHK_BPT :                      7BA C |  CONIN :                       0AAA C |
 CONOUT :                      0ACD C |  CONST :                       0AC5 C |
*CONSTPI :        3.141592653589793 - |  CON_REQ :                     0AB0 C |
 CPU_MSG :                      7FF C |  CR :                            0D - |
*CREQ_COM :                       6 C |  CRLF :                         639 C |
 CSTART :                        10 C |  CURSEG :                       150 D |
*DATA_DMAH :                     0E C | *DATA_DMAL :                     0C C |
*DATE :                 "7/31/2025" - |  DEADDR :                       154 D |
 DEBUG :                          0 - |  DEF_VEC :                      873 C |
 DEL :                           7F - | *DISK_DRIVE :                     8 C |
*DISK_SECTOR :                   0A C | *DISK_TRACK :                     9 C |
 DIVMSG :                       877 C |  DP0 :                          16B C |
 DP01 :                         17D C |  DP1 :                          195 C |
 DPB :                          228 C |  DPB0 :                         23A C |
 DPB1 :                         249 C |  DPB2 :                         24E C |
 DPB3 :                         26A C |  DPL :                          1E1 C |
 DPL0 :                         1FD C |  DPL1 :                         20E C |
 DPL2 :                         21E C |  DPL3 :                         223 C |
 DPM :                          1AB C |  DPM0 :                         1BB C |
 DPM1 :                         1D7 C |  DSADDR :                       152 D |
 DSEP0 :                        83D C |  DSEP1 :                        840 C |
 DSTATE :                       156 D |  DUMMY_PORT :                 0F000 - |
 DUMP :                         14E C |  ERR :                          140 C |
 ERRMSG :                       835 C | *FALSE :                          0 - |
 FBITON :                       938 C |  FB_LOOP :                      567 C |
 FLGB :                         932 C |  FREE_SEG :                      40 - |
 F_BIT :                        186 D |  F_BITSIZE :                     10 - |
 F_MSK_BIT :                   0FD5 - |  G0 :                           28E C |
 G0_0 :                         2C2 C |  G1 :                           295 C |
 G2 :                           2AA C |  GADDR :                        158 D |
 GE :                           2A7 C |  GETLIN :                       643 C |
 GET_NXTC :                     148 C |  GL0 :                          648 C |
 GLB :                          672 C |  GLE :                          68A C |
 GO :                           26B C |  GO_ANYWHERE :                  2ED C |
 GO_GO :                        2D2 C | *HAS64 :                          0 - |
*HASFPU :                         0 - |  HEXIN :                        60D C |
 HEXMOD :                       15C D |  HEXOUT1 :                      600 C |
 HEXOUT2 :                      5F3 C |  HEXOUT4 :                      5EC C |
 HI0 :                          61A C |  HI1 :                          634 C |
 HIR :                          638 C |  HO10 :                         60A C |
 ID_V30 :                       0B0 C |  IHEMSG :                       81B C |
*IHEXER :                       844 C |  IM86 :                         80B C |
 IMV30 :                        812 C |  INBUF :                        100 D |
 INI1 :                          77 C |  INIVEC :                       85F C |
 INT0 :                         777 C |  INT21HVEC :                     84 - |
 INTBRK :                       74C C |  INTDIV :                       70A C |
 INTDMY :                       7D8 C |  INTFNC :                       6D7 C |
 INTNMI :                       736 C |  INTOVF :                       763 C |
 INTSTP :                       720 C |  INTVEC_SIZEW :                  0A - |
 IR0 :                           41 C | *IRQ_OFF :                       0C - |
 LF :                            0A - |  LH0 :                          3CB C |
 LH1 :                          3CD C |  LH2 :                          3D9 C |
 LH3 :                          3EC C |  LHE :                          3F9 C |
 LHI0 :                         3FC C |  LHI1 :                         421 C |
 LHI2 :                         432 C |  LHI3 :                         436 C |
 LHIE :                         44A C |  LHS0 :                         453 C |
 LHS1 :                         479 C |  LHS2 :                         48B C |
 LHS3 :                         48F C |  LHSE :                         4A2 C |
 LHSR :                         444 C | *LISTON :                         1 - |
 LOADH :                        3AF C |  M00 :                          102 C |
 M01 :                          109 C |  M02 :                          110 C |
 M03 :                          117 C |  M05 :                          11E C |
 M06 :                          125 C |  M07 :                          140 C |
*MACEXP :                         7 - | *MOMCPU :                      8086 - |
*MOMCPUNAME :                "8086" - |  MON_CSEG :                   0FF50 - |
 MON_DSEG :                   0FF30 - |  MSGOUT :                      0A6F C |
 MSG_CEND :                    0A84 C |  MSG_LP :                      0A79 C |
 MSG_OUT :                     0A75 C | *NESTMAX :                      100 - |
 NFNC1 :                        6E0 C |  NFNC2 :                        6EB C |
 NFNC3 :                        6F8 C |  NFNC4 :                        6F7 C |
 NMIMSG :                       891 C |  NML_JMP :                      0D6 C |
 NOBRKP :                       7D5 C |  NUM_OF_VEC :                   100 - |
 OPNMSG :                       7D9 C |  OVFMSG :                       8A3 C |
 PROMPT :                       818 C |  PSPEC :                        15D D |
 RD0 :                          53B C |  RD1 :                          553 C |
 RDF1 :                         570 C |  RDF2 :                         575 C |
 RDHEX :                        6A7 C |  RDSAX :                        8EC C |
 RDSBP :                        91E C |  RDSBX :                        8F0 C |
 RDSCS :                        904 C |  RDSCX :                        8F5 C |
 RDSDI :                        928 C |  RDSDS :                        909 C |
 RDSDX :                        8FA C |  RDSES :                        913 C |
 RDSF :                         8FF C |  RDSIP :                        92D C |
 RDSSI :                        923 C |  RDSSP :                        918 C |
 RDSSS :                        90E C |  RDTAB :                        8B0 C |
 RDUMP :                        538 C |  RECTYP :                       15F D |
 REG :                          4AB C |  REGAX :                        164 D |
 REGBP :                        17C D |  REGBX :                        166 D |
 REGCS :                        172 D |  REGCX :                        168 D |
 REGDI :                        16E D |  REGDS :                        174 D |
 REGDX :                        16A D |  REGES :                        178 D |
 REGF :                         170 D |  REGIP :                        17E D |
 REGSI :                        16C D |  REGSP :                        17A D |
 REGSS :                        176 D |  REG_B :                        164 D |
 REG_E :                        172 D | *RELAXED :                        0 - |
 REQ_CONIN :                      1 - |  REQ_CONOUT :                     2 - |
 REQ_CONST :                      3 - |  REQ_STROUT :                     4 - |
 RESET_VEC :                   0AF0 - |  RG0 :                          4BC C |
 RG1 :                          4BF C |  RG2 :                          4D1 C |
 RG3 :                          4E5 C |  RG4 :                          50E C |
 RG5 :                          513 C |  RG6 :                          530 C |
 RG7 :                          532 C |  RGE :                          535 C |
 RGR :                          532 C |  RH0 :                          6AE C |
 RH1 :                          6C5 C |  RHE :                          6D6 C |
 RNAH :                        0A29 C |  RNAL :                        0A2C C |
 RNAX :                        0A26 C |  RNBH :                        0A32 C |
 RNBL :                        0A35 C |  RNBP :                        0A38 C |
 RNBX :                        0A2F C |  RNCH :                        0A3E C |
 RNCL :                        0A41 C |  RNCS :                        0A44 C |
 RNCX :                        0A3B C |  RNDH :                        0A4A C |
 RNDI :                        0A50 C |  RNDL :                        0A4D C |
 RNDS :                        0A53 C |  RNDX :                        0A47 C |
 RNES :                        0A56 C |  RNF :                         0A59 C |
 RNIP :                        0A5B C |  RNSI :                        0A5E C |
 RNSP :                        0A61 C |  RNSS :                        0A64 C |
 RNTAB :                        948 C |  RNTABA :                       97E C |
 RNTABB :                       996 C |  RNTABC :                       9B4 C |
 RNTABD :                       9D2 C | *RNTABE :                       9F6 C |
 RNTABI :                      0A02 C |  RNTABS :                      0A0E C |
 SADDR :                        15A D |  SETM :                         325 C |
 SHEMSG :                       828 C |  SKIPSP :                       692 C |
 SM0 :                          33F C |  SM1 :                          34C C |
 SM2 :                          389 C |  SM3 :                          394 C |
 SM4 :                          39B C |  SME :                          3AC C |
*SRECER :                       852 C |  SSR :                          69B C |
 STACK :                        100 - |  STPMSG :                       888 C |
 STROUT :                      0A67 C |  STR_OFF :                        2 C |
 STR_SEG :                        4 C |  T0 :                           5A1 C |
 T1 :                           5A8 C |  TBIT_OFF :                    0ED5 - |
 TBIT_ON_ :                     100 - |  TE :                           5AE C |
 TERMINATE :                    0FF - | *TIME :                    "6:5:15" - |
 TO_GO :                        5B1 C |  TRACE :                        587 C |
*TRUE :                           1 - |  UNI_CHR :                        1 C |
 UPPER :                        69C C |  UPR :                          6A6 C |
 UREQ_COM :                       0 C |  VECSIZ :                       400 - |
 VEC_CNT_W :                    200 - | *VERSION :                     142F - |
 WAIT_CONIN :                  0AB5 C |  WAIT_STOUT :                  0A9F C |
 WORK_B :                       100 - |  WSTART :                       0DC C |

    286 symbols
     27 unused symbols

 AS V1.42 Beta [Bld 271] - Source File unimon_s86.asm - Page 3 - 7/31/2025 6:5:15


  Code Pages:
  ----------

STANDARD (0 changed characters)

1 code page

0.16 seconds assembly time

   1575 lines source file
      3 passes
      0 errors
      0 warnings
